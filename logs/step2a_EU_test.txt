2025-09-03 16:37:52,807 - __main__ - INFO - \U0001f4c4 Loaded configuration from configs/individual_target_test.yaml
2025-09-03 16:37:52,807 - __main__ - INFO - \U0001f4c4 Using configuration: configs/individual_target_test.yaml
2025-09-03 16:37:52,807 - __main__ - INFO - \U0001f680 Starting XGB Ensemble Analysis
2025-09-03 16:37:52,807 - __main__ - INFO - \U0001f3af Target symbols: ['@EU#C']
2025-09-03 16:37:52,807 - __main__ - INFO - 
================================================================================
2025-09-03 16:37:52,807 - __main__ - INFO - \U0001f504 PROCESSING TARGET 1/1: @EU#C
2025-09-03 16:37:52,808 - __main__ - INFO - ================================================================================
2025-09-03 16:37:52,808 - __main__ - INFO - \U0001f504 Loading real market data for target: @EU#C
2025-09-03 16:37:52,808 - data.data_utils_simple - INFO - Preparing data for @EU#C, period 2020-07-01 to 2024-08-01
2025-09-03 16:37:52,984 - data.data_utils_simple - INFO - Loaded data for 10 symbols
C:\Users\zhang\Desktop\Steve\bond_ls_xgb_grope_full_v6\data\data_utils_simple.py:279: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead. To get a de-fragmented frame, use `newframe = frame.copy()`
  df[target_col] = target_returns.reindex(df.index)
2025-09-03 16:37:53,675 - data.data_utils_simple - INFO - Cleaning data: (1057, 523)
2025-09-03 16:37:53,827 - data.data_utils_simple - INFO - Cleaned data: (1057, 523) (dropped 0 features)
2025-09-03 16:37:53,830 - data.data_utils_simple - INFO - Final dataset: (1057, 523), target mean=-0.000115, target std=0.004623
2025-09-03 16:37:53,839 - __main__ - INFO - \u2705 Loaded data: X shape (1057, 522), y shape (1057,)
2025-09-03 16:37:53,839 - __main__ - INFO - \U0001f4c5 Date range: 2020-07-01 12:00:00 to 2024-07-31 12:00:00
2025-09-03 16:37:53,839 - __main__ - INFO - Loaded real data: X shape (1057, 522), y shape (1057,)
2025-09-03 16:37:53,839 - __main__ - INFO - Date range: 2020-07-01 12:00:00 to 2024-07-31 12:00:00
2025-09-03 16:37:53,839 - __main__ - INFO - Using CLI specified feature count: 70
2025-09-03 16:37:53,839 - __main__ - INFO - Applying smart block-wise feature selection: 522 -> 70 features
2025-09-03 16:37:53,839 - model.feature_selection - INFO - Smart block-wise selection: 522 -> blocks of 100 -> local clustering -> global deduplication
2025-09-03 16:37:53,839 - model.feature_selection - INFO - Processing block 1/6: 100 features
2025-09-03 16:37:54,356 - model.feature_selection - INFO - Block 100: Selected 15 features (best: 0.1072)
2025-09-03 16:37:54,356 - model.feature_selection - INFO - Processing block 2/6: 100 features
2025-09-03 16:37:54,789 - model.feature_selection - INFO - Block 100: Selected 15 features (best: 0.0865)
2025-09-03 16:37:54,789 - model.feature_selection - INFO - Processing block 3/6: 100 features
2025-09-03 16:37:55,197 - model.feature_selection - INFO - Block 100: Selected 15 features (best: 0.1039)
2025-09-03 16:37:55,197 - model.feature_selection - INFO - Processing block 4/6: 100 features
2025-09-03 16:37:55,619 - model.feature_selection - INFO - Block 100: Selected 15 features (best: 0.1061)
2025-09-03 16:37:55,619 - model.feature_selection - INFO - Processing block 5/6: 100 features
2025-09-03 16:37:56,004 - model.feature_selection - INFO - Block 100: Selected 15 features (best: 0.0713)
2025-09-03 16:37:56,005 - model.feature_selection - INFO - Processing block 6/6: 22 features
2025-09-03 16:37:56,121 - model.feature_selection - INFO - Block 22: Selected 8 features (best: 0.0779)
2025-09-03 16:37:56,121 - model.feature_selection - INFO - Global deduplication: 83 candidates -> removing cross-block correlations
2025-09-03 16:37:56,257 - model.feature_selection - INFO - \u2705 Smart block-wise selection complete: 70 features selected
2025-09-03 16:37:56,258 - model.feature_selection - INFO -    Local clustering: 0.7, Global clustering: 0.8
2025-09-03 16:37:56,259 - __main__ - INFO - Feature selection complete: (1057, 70)
2025-09-03 16:37:56,496 - __main__ - INFO - [Fold 0] Training data: X_tr(252, 70), y_tr(252,)
2025-09-03 16:37:56,497 - __main__ - INFO - [Fold 0] Target stats: mean=0.000149, std=0.003674
2025-09-03 16:37:56,499 - __main__ - INFO - [Fold 0] Feature stats: 526.725221 total magnitude
C:\Users\zhang\anaconda3\Lib\site-packages\xgboost\core.py:729: UserWarning: [16:37:57] WARNING: C:\actions-runner\_work\xgboost\xgboost\src\common\error_msg.cc:58: Falling back to prediction using DMatrix due to mismatched devices. This might lead to higher memory usage and slower performance. XGBoost is running on: cuda:0, while the input data is on: cpu.
Potential solutions:
- Use a data structure that matches the device ordinal in the booster.
- Set the device for booster before call to inplace_predict.

This warning will only be shown once.

  return func(**kwargs)
2025-09-03 16:38:48,479 - __main__ - INFO - Fold 0 XGBoost predictions: train_preds count=50, test_preds count=50
2025-09-03 16:38:48,479 - __main__ - INFO - Fold 0 test prediction stats: model_0: mean=0.000187, std=0.003047, range=[-0.008941, 0.007172]; model_1: mean=0.000209, std=0.003442, range=[-0.011078, 0.008315]; model_2: mean=0.000171, std=0.002527, range=[-0.006627, 0.005693]
2025-09-03 16:39:00,814 - __main__ - INFO - Fold 0: Selected 12 models, weights: ['0.004', '0.094', '0.005', '0.005', '0.551', '0.004', '0.004', '0.007', '0.007', '0.292', '0.005', '0.023'], tau: 0.790
2025-09-03 16:39:00,814 - __main__ - INFO - Fold 0 individual test signals: count=12, lengths=[176, 176, 176], magnitudes=[89.7369660115762, 89.81071433025569, 90.26513018822254]
2025-09-03 16:39:00,815 - __main__ - INFO - Fold 0 signal stats: mean=-0.033372, std=0.599893, sum=-5.873446, magnitude=90.251508
2025-09-03 16:39:00,817 - __main__ - INFO - [Fold 1] Training data: X_tr(252, 70), y_tr(252,)
2025-09-03 16:39:00,817 - __main__ - INFO - [Fold 1] Target stats: mean=0.000149, std=0.003674
2025-09-03 16:39:00,819 - __main__ - INFO - [Fold 1] Feature stats: 526.725221 total magnitude
2025-09-03 16:39:55,015 - __main__ - INFO - Fold 1 XGBoost predictions: train_preds count=50, test_preds count=50
2025-09-03 16:39:55,016 - __main__ - INFO - Fold 1 test prediction stats: model_0: mean=0.000113, std=0.002363, range=[-0.012318, 0.005109]; model_1: mean=0.000085, std=0.002629, range=[-0.016238, 0.007983]; model_2: mean=0.000007, std=0.001977, range=[-0.010009, 0.004692]
2025-09-03 16:40:01,474 - __main__ - INFO - Fold 1: Selected 12 models, weights: ['0.000', '0.332', '0.000', '0.000', '0.332', '0.000', '0.000', '0.000', '0.000', '0.332', '0.000', '0.005'], tau: 0.200
2025-09-03 16:40:01,474 - __main__ - INFO - Fold 1 individual test signals: count=12, lengths=[176, 176, 176], magnitudes=[74.43476601037665, 78.71636691530927, 74.94498789428721]
2025-09-03 16:40:01,476 - __main__ - INFO - Fold 1 signal stats: mean=0.029282, std=0.495255, sum=5.153631, magnitude=72.008145
2025-09-03 16:40:01,477 - __main__ - INFO - [Fold 2] Training data: X_tr(352, 70), y_tr(352,)
2025-09-03 16:40:01,477 - __main__ - INFO - [Fold 2] Target stats: mean=0.000019, std=0.003443
2025-09-03 16:40:01,479 - __main__ - INFO - [Fold 2] Feature stats: 531.805056 total magnitude
2025-09-03 16:40:57,279 - __main__ - INFO - Fold 2 XGBoost predictions: train_preds count=50, test_preds count=50
2025-09-03 16:40:57,279 - __main__ - INFO - Fold 2 test prediction stats: model_0: mean=-0.000128, std=0.001260, range=[-0.003327, 0.003473]; model_1: mean=-0.000337, std=0.002055, range=[-0.007339, 0.006127]; model_2: mean=-0.000361, std=0.001265, range=[-0.003317, 0.003670]
2025-09-03 16:41:04,262 - __main__ - INFO - Fold 2: Selected 12 models, weights: ['0.000', '0.000', '0.325', '0.000', '0.000', '0.325', '0.325', '0.024', '0.000', '0.001', '0.000', '0.000'], tau: 0.200
2025-09-03 16:41:04,262 - __main__ - INFO - Fold 2 individual test signals: count=12, lengths=[176, 176, 176], magnitudes=[94.37398611196596, 93.33231723620554, 99.72194061478899]
2025-09-03 16:41:04,263 - __main__ - INFO - Fold 2 signal stats: mean=0.062505, std=0.500800, sum=11.000925, magnitude=73.266654
2025-09-03 16:41:04,263 - __main__ - INFO - [Fold 3] Training data: X_tr(528, 70), y_tr(528,)
2025-09-03 16:41:04,263 - __main__ - INFO - [Fold 3] Target stats: mean=-0.000277, std=0.004259
2025-09-03 16:41:04,265 - __main__ - INFO - [Fold 3] Feature stats: 527.078708 total magnitude
2025-09-03 16:42:06,244 - __main__ - INFO - Fold 3 XGBoost predictions: train_preds count=50, test_preds count=50
2025-09-03 16:42:06,244 - __main__ - INFO - Fold 3 test prediction stats: model_0: mean=-0.000607, std=0.002186, range=[-0.008636, 0.005406]; model_1: mean=-0.000602, std=0.002806, range=[-0.009455, 0.008792]; model_2: mean=-0.000680, std=0.001961, range=[-0.005323, 0.005818]
2025-09-03 16:42:13,990 - __main__ - INFO - Fold 3: Selected 12 models, weights: ['0.425', '0.001', '0.354', '0.004', '0.001', '0.004', '0.003', '0.000', '0.150', '0.050', '0.008', '0.000'], tau: 0.516
2025-09-03 16:42:13,990 - __main__ - INFO - Fold 3 individual test signals: count=12, lengths=[176, 176, 176], magnitudes=[97.49164572280955, 93.71822708179067, 90.88415816454884]
2025-09-03 16:42:13,991 - __main__ - INFO - Fold 3 signal stats: mean=-0.013004, std=0.500557, sum=-2.288791, magnitude=73.804180
2025-09-03 16:42:13,992 - __main__ - INFO - [Fold 4] Training data: X_tr(704, 70), y_tr(704,)
2025-09-03 16:42:13,992 - __main__ - INFO - [Fold 4] Target stats: mean=-0.000164, std=0.004850
2025-09-03 16:42:13,995 - __main__ - INFO - [Fold 4] Feature stats: 526.489581 total magnitude
2025-09-03 16:43:19,332 - __main__ - INFO - Fold 4 XGBoost predictions: train_preds count=50, test_preds count=50
2025-09-03 16:43:19,332 - __main__ - INFO - Fold 4 test prediction stats: model_0: mean=-0.000524, std=0.002256, range=[-0.006248, 0.008171]; model_1: mean=-0.000504, std=0.002572, range=[-0.009546, 0.007747]; model_2: mean=-0.000432, std=0.002232, range=[-0.007017, 0.010707]
2025-09-03 16:43:27,116 - __main__ - INFO - Fold 4: Selected 12 models, weights: ['0.087', '0.059', '0.163', '0.087', '0.145', '0.058', '0.065', '0.162', '0.056', '0.044', '0.034', '0.041'], tau: 2.072
2025-09-03 16:43:27,117 - __main__ - INFO - Fold 4 individual test signals: count=12, lengths=[176, 176, 176], magnitudes=[96.0258116685879, 85.43025312379945, 93.4335795517166]
2025-09-03 16:43:27,118 - __main__ - INFO - Fold 4 signal stats: mean=0.079986, std=0.419769, sum=14.077570, magnitude=60.822746
2025-09-03 16:43:27,119 - __main__ - INFO - [Fold 5] Training data: X_tr(880, 70), y_tr(880,)
2025-09-03 16:43:27,119 - __main__ - INFO - [Fold 5] Target stats: mean=-0.000122, std=0.004803
2025-09-03 16:43:27,120 - __main__ - INFO - [Fold 5] Feature stats: 524.803288 total magnitude
2025-09-03 16:44:34,541 - __main__ - INFO - Fold 5 XGBoost predictions: train_preds count=50, test_preds count=50
2025-09-03 16:44:34,541 - __main__ - INFO - Fold 5 test prediction stats: model_0: mean=-0.000165, std=0.002147, range=[-0.004723, 0.004877]; model_1: mean=-0.000307, std=0.002428, range=[-0.008292, 0.005498]; model_2: mean=0.000038, std=0.001941, range=[-0.005687, 0.007180]
2025-09-03 16:44:42,531 - __main__ - INFO - Fold 5: Selected 12 models, weights: ['0.025', '0.013', '0.009', '0.227', '0.046', '0.196', '0.024', '0.248', '0.031', '0.009', '0.038', '0.133'], tau: 0.785
2025-09-03 16:44:42,531 - __main__ - INFO - Fold 5 individual test signals: count=12, lengths=[177, 177, 177], magnitudes=[92.5356825102927, 93.99288835560336, 83.31253978648431]
2025-09-03 16:44:42,532 - __main__ - INFO - Fold 5 signal stats: mean=-0.050560, std=0.432549, sum=-8.949061, magnitude=63.502487
2025-09-03 16:44:42,532 - __main__ - INFO - \U0001f4cb Processing complete: 6 fold summaries created
2025-09-03 16:44:42,532 - __main__ - INFO - \U0001f4ca OOS signal magnitude: 433.6557208489
2025-09-03 16:44:42,533 - __main__ - INFO - OOS DAPY(hits): 43.15 | OOS IR: 0.50 | OOS hit-rate: 0.586
2025-09-03 16:44:42,557 - __main__ - INFO - Calculating comprehensive performance metrics...
2025-09-03 16:44:42,559 - metrics.performance_report - INFO - Performance summary saved to artifacts/performance_summary.csv
2025-09-03 16:44:42,568 - diagnostics.diagnostic_output - INFO - \U0001f4be Saved comprehensive diagnostics to artifacts/diagnostics/diagnostic_EUC_20250903_164442.json
2025-09-03 16:44:42,568 - diagnostics.diagnostic_output - INFO - \U0001f4c4 Saved diagnostic summary to artifacts/diagnostics/summary_EUC_20250903_164442.txt
2025-09-03 16:44:42,571 - __main__ - INFO - \u2705 Completed @EU#C
2025-09-03 16:44:42,571 - __main__ - INFO - 
================================================================================
2025-09-03 16:44:42,571 - __main__ - INFO - \U0001f4ca FINAL SUMMARY: 1/1 targets completed successfully
2025-09-03 16:44:42,571 - __main__ - INFO - ================================================================================
GPU acceleration enabled for XGBoost
OOS Shuffling p-value (DAPY): 0.0049751244 (obs=43.15)

==================================================
            OUT-OF-SAMPLE PERFORMANCE             
==================================================

RETURNS:
  Total Return:           7.87%
  Annualized Return:      1.88%
  Volatility:             3.76%
  Sharpe Ratio:            0.50

RISK:
  Max Drawdown:          -5.55%

ACCURACY:
  Win Rate:              47.40%
  Hit Rate:              47.40%
  Avg Win:               0.0016
  Avg Loss:             -0.0015

TRADES:
  Total Trades:            1057
  Winning Trades:           501
  Losing Trades:            486
==================================================
