2025-09-12 01:25:21,222 - INFO - ================================================================================
2025-09-12 01:25:21,223 - INFO - XGBoost Comparison Framework
2025-09-12 01:25:21,223 - INFO - ================================================================================
2025-09-12 01:25:21,223 - INFO - Configuration:
2025-09-12 01:25:21,223 - INFO -   Target Symbol: @EU#C
2025-09-12 01:25:21,223 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-12 01:25:21,223 - INFO -   Models: 50, Type: deep
2025-09-12 01:25:21,223 - INFO -   Folds: 8
2025-09-12 01:25:21,223 - INFO -   Max Features: 100 (Limited)
2025-09-12 01:25:21,223 - INFO -   Feature Selection: Enabled
2025-09-12 01:25:21,223 - INFO -   Inner Val Fraction: 0.2
2025-09-12 01:25:21,223 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-12 01:25:21,223 - INFO -   Signal Type: Tanh Normalized
2025-09-12 01:25:21,223 - INFO -   Cross-validation: Expanding window
2025-09-12 01:25:21,223 - INFO -   Production: Cutoff=0.6, Top N=2, Q-Metric=hit_rate
2025-09-12 01:25:21,223 - INFO -   Reselection: Every 1 fold(s)
2025-09-12 01:25:21,223 - INFO - 
2025-09-12 01:25:40,399 - INFO - Loaded: X=(2735, 1906), y=(2735,)
2025-09-12 01:26:58,021 - INFO - Selected 100 features (threshold: 0.7)
2025-09-12 01:26:58,074 - INFO - Selected: 100 features
2025-09-12 01:26:58,174 - INFO - GPU detection: XGBoost not compiled with CUDA support - using CPU
2025-09-12 01:26:58,174 - INFO - Processing mode: CPU multiprocessing (GPU: False, Total models: 400)
2025-09-12 01:26:58,353 - INFO - GPU detection: XGBoost not compiled with CUDA support - using CPU
2025-09-12 01:26:58,359 - INFO - Using expanding window
2025-09-12 01:26:58,360 - INFO - Starting analysis: 50 deep models x 7 folds
2025-09-12 01:26:58,360 - INFO - Processing Fold 1/7
2025-09-12 01:26:58,364 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:28:35,397 - INFO - Fold 1 Summary:
2025-09-12 01:28:35,398 - INFO -   Best OOS Sharpe: M42 (2.437, p=0.040)
2025-09-12 01:28:35,398 - INFO -   Best Q-Hit_Rate:  M17 (0.553, OOS_Sharpe=0.753, OOS_Hit=0.553)
2025-09-12 01:28:35,398 - INFO -   Mean OOS Sharpe: 1.006, Mean Hit: 0.524
2025-09-12 01:28:35,398 - INFO - 
2025-09-12 01:28:35,414 - INFO - Processing Fold 2/7
2025-09-12 01:28:35,438 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:30:48,889 - INFO - Fold 2 Summary:
2025-09-12 01:30:48,893 - INFO -   Best OOS Sharpe: M41 (0.076, p=0.940)
2025-09-12 01:30:48,894 - INFO -   Best Q-Hit_Rate:  M46 (0.546, OOS_Sharpe=-0.217, OOS_Hit=0.488)
2025-09-12 01:30:48,894 - INFO -   Mean OOS Sharpe: -0.871, Mean Hit: 0.469
2025-09-12 01:30:48,894 - INFO - 
2025-09-12 01:30:48,915 - INFO - Processing Fold 3/7
2025-09-12 01:30:48,944 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:33:25,414 - INFO - Fold 3 Summary:
2025-09-12 01:33:25,418 - INFO -   Best OOS Sharpe: M45 (1.549, p=0.040)
2025-09-12 01:33:25,418 - INFO -   Best Q-Hit_Rate:  M38 (0.545, OOS_Sharpe=-0.066, OOS_Hit=0.535)
2025-09-12 01:33:25,418 - INFO -   Mean OOS Sharpe: 0.536, Mean Hit: 0.531
2025-09-12 01:33:25,418 - INFO - 
2025-09-12 01:33:25,442 - INFO - Processing Fold 4/7
2025-09-12 01:33:25,465 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:37:49,661 - INFO - Fold 4 Summary:
2025-09-12 01:37:49,665 - INFO -   Best OOS Sharpe: M49 (2.827, p=0.000)
2025-09-12 01:37:49,665 - INFO -   Best Q-Hit_Rate:  M46 (0.539, OOS_Sharpe=0.647, OOS_Hit=0.500)
2025-09-12 01:37:49,665 - INFO -   Mean OOS Sharpe: 1.098, Mean Hit: 0.511
2025-09-12 01:37:49,665 - INFO - 
2025-09-12 01:37:49,700 - INFO - Processing Fold 5/7
2025-09-12 01:37:49,752 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:42:14,610 - INFO - Fold 5 Summary:
2025-09-12 01:42:14,612 - INFO -   Best OOS Sharpe: M00 (1.790, p=0.060)
2025-09-12 01:42:14,612 - INFO -   Best Q-Hit_Rate:  M38 (0.538, OOS_Sharpe=1.258, OOS_Hit=0.529)
2025-09-12 01:42:14,612 - INFO -   Mean OOS Sharpe: 0.542, Mean Hit: 0.488
2025-09-12 01:42:14,612 - INFO - 
2025-09-12 01:42:14,656 - INFO - Processing Fold 6/7
2025-09-12 01:42:14,689 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:44:44,625 - INFO - Fold 6 Summary:
2025-09-12 01:44:44,630 - INFO -   Best OOS Sharpe: M10 (0.884, p=0.320)
2025-09-12 01:44:44,630 - INFO -   Best Q-Hit_Rate:  M38 (0.533, OOS_Sharpe=-0.052, OOS_Hit=0.491)
2025-09-12 01:44:44,630 - INFO -   Mean OOS Sharpe: -0.511, Mean Hit: 0.479
2025-09-12 01:44:44,630 - INFO - 
2025-09-12 01:44:44,663 - INFO - Processing Fold 7/7
2025-09-12 01:44:44,690 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:46:37,844 - INFO - Fold 7 Summary:
2025-09-12 01:46:37,846 - INFO -   Best OOS Sharpe: M41 (1.808, p=0.040)
2025-09-12 01:46:37,846 - INFO -   Best Q-Hit_Rate:  M38 (0.527, OOS_Sharpe=0.555, OOS_Hit=0.467)
2025-09-12 01:46:37,846 - INFO -   Mean OOS Sharpe: 0.353, Mean Hit: 0.485
2025-09-12 01:46:37,846 - INFO - 
2025-09-12 01:46:37,873 - INFO - Starting full timeline backtesting...
2025-09-12 01:46:37,876 - INFO - Running full timeline backtest with 7 folds (0-based indexing)
2025-09-12 01:46:37,877 - INFO - Fold 0 skipped (no prior Q-score history for meaningful selection)
2025-09-12 01:46:37,877 - INFO - Effective backtest period: Folds 1-6 (6 folds)
2025-09-12 01:46:37,877 - INFO - Training period: Folds 1-4
2025-09-12 01:46:37,877 - INFO - Production period: Folds 5-6
2025-09-12 01:46:37,877 - INFO - Using consistent OOS methodology for all folds
2025-09-12 01:46:37,878 - INFO - Fold 0: Skipped (no prior Q-score history for meaningful selection)
2025-09-12 01:46:37,878 - INFO - 
--- Processing fold 1/6 ---
2025-09-12 01:46:37,888 - INFO - Fold 1: Q-scores from fold 0: ['M00:0.547', 'M01:0.503', 'M02:0.529', 'M03:0.524', 'M04:0.494']...
2025-09-12 01:46:37,890 - INFO - Fold 1: Selected models [17, 38] based on fold 0 Q-scores, avg Q-score: 0.553
2025-09-12 01:46:37,934 - INFO - Fold 1 (Training): Sharpe=0.839, Hit=51.9%
2025-09-12 01:46:37,934 - INFO - 
--- Processing fold 2/6 ---
2025-09-12 01:46:37,943 - INFO - Fold 2: Q-scores from fold 1: ['M00:0.537', 'M01:0.501', 'M02:0.527', 'M03:0.519', 'M04:0.489']...
2025-09-12 01:46:37,943 - INFO - Fold 2: Selected models [46, 38] based on fold 1 Q-scores, avg Q-score: 0.546
2025-09-12 01:46:37,945 - INFO - Fold 2 (Training): Sharpe=1.348, Hit=51.3%
2025-09-12 01:46:37,945 - INFO - 
--- Processing fold 3/6 ---
2025-09-12 01:46:37,953 - INFO - Fold 3: Q-scores from fold 2: ['M00:0.535', 'M01:0.503', 'M02:0.528', 'M03:0.520', 'M04:0.492']...
2025-09-12 01:46:37,953 - INFO - Fold 3: Selected models [38, 46] based on fold 2 Q-scores, avg Q-score: 0.544
2025-09-12 01:46:37,955 - INFO - Fold 3 (Training): Sharpe=1.224, Hit=53.1%
2025-09-12 01:46:37,955 - INFO - 
--- Processing fold 4/6 ---
2025-09-12 01:46:37,965 - INFO - Fold 4: Q-scores from fold 3: ['M00:0.531', 'M01:0.503', 'M02:0.524', 'M03:0.516', 'M04:0.495']...
2025-09-12 01:46:37,965 - INFO - Fold 4: Selected models [46, 38] based on fold 3 Q-scores, avg Q-score: 0.539
2025-09-12 01:46:37,967 - INFO - Fold 4 (Training): Sharpe=0.731, Hit=56.0%
2025-09-12 01:46:37,967 - INFO - 
--- Processing fold 5/6 ---
2025-09-12 01:46:37,979 - INFO - Fold 5: Q-scores from fold 4: ['M00:0.531', 'M01:0.498', 'M02:0.517', 'M03:0.511', 'M04:0.494']...
2025-09-12 01:46:37,979 - INFO - Fold 5: Selected models [38, 11] based on fold 4 Q-scores, avg Q-score: 0.536
2025-09-12 01:46:37,982 - INFO - Fold 5 (Production): Sharpe=0.726, Hit=50.4%
2025-09-12 01:46:37,982 - INFO - 
--- Processing fold 6/6 ---
2025-09-12 01:46:37,992 - INFO - Fold 6: Q-scores from fold 5: ['M00:0.524', 'M01:0.495', 'M02:0.516', 'M03:0.509', 'M04:0.493']...
2025-09-12 01:46:37,993 - INFO - Fold 6: Selected models [38, 11] based on fold 5 Q-scores, avg Q-score: 0.531
2025-09-12 01:46:37,994 - INFO - Fold 6 (Production): Sharpe=0.461, Hit=52.3%
2025-09-12 01:46:37,995 - INFO - Training Period Overall: Sharpe=0.970, Hit=53.1%
2025-09-12 01:46:37,995 - INFO - Production Period Overall: Sharpe=0.594, Hit=51.4%
2025-09-12 01:46:38,035 - INFO - Full Timeline Overall: Sharpe=0.841, Hit=52.5%
2025-09-12 01:46:38,035 - INFO - Training: Sharpe=0.970 | Hit=53.1% | Return=3.50%
2025-09-12 01:46:38,036 - INFO - Production: Sharpe=0.594 | Hit=51.4% | Return=2.20%
2025-09-12 01:46:38,036 - INFO - Full Timeline: Sharpe=0.841 | Hit=52.5% | Return=3.07%
2025-09-12 01:46:38,036 - INFO - Generating visualizations...
2025-09-12 01:46:38,038 - INFO - Creating clean visualizations for 50 models...
2025-09-12 01:46:42,425 - INFO - Clean fold-by-fold analysis saved to: 20250912_012521_fold_@EU#C_50models_8folds_hitQ_EU_deep.png
2025-09-12 01:46:42,528 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-09-12 01:46:42,529 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-09-12 01:46:45,502 - INFO - Detailed production analysis saved to: 20250912_012521_backtest_@EU#C_50models_8folds_hitQ_EU_deep.png
2025-09-12 01:46:45,503 - INFO - ================================================================================
2025-09-12 01:46:45,503 - INFO - BACKTEST SUMMARY
2025-09-12 01:46:45,503 - INFO - ================================================================================
2025-09-12 01:46:45,503 - INFO - Config: Cutoff=70%, Top N=5, Q-Metric=sharpe, Reselection=1 fold(s)
2025-09-12 01:46:45,503 - INFO - Model Selection History:
2025-09-12 01:46:45,503 - INFO -   Fold 1: M17, M38 (Avg Q-sharpe: 0.553)
2025-09-12 01:46:45,503 - INFO -   Fold 2: M46, M38 (Avg Q-sharpe: 0.546)
2025-09-12 01:46:45,503 - INFO -   Fold 3: M38, M46 (Avg Q-sharpe: 0.544)
2025-09-12 01:46:45,503 - INFO -   Fold 4: M46, M38 (Avg Q-sharpe: 0.539)
2025-09-12 01:46:45,503 - INFO -   Fold 5: M38, M11 (Avg Q-sharpe: 0.536)
2025-09-12 01:46:45,503 - INFO -   Fold 6: M38, M11 (Avg Q-sharpe: 0.531)
2025-09-12 01:46:45,503 - INFO - 
2025-09-12 01:46:45,503 - INFO - Fold-by-Fold Performance:
2025-09-12 01:46:45,503 - INFO -   Fold 1: M17, M38 | Sharpe=0.839 | Hit=51.9% | Samples=341
2025-09-12 01:46:45,503 - INFO -   Fold 2: M46, M38 | Sharpe=1.348 | Hit=51.3% | Samples=341
2025-09-12 01:46:45,503 - INFO -   Fold 3: M38, M46 | Sharpe=1.224 | Hit=53.1% | Samples=341
2025-09-12 01:46:45,503 - INFO -   Fold 4: M46, M38 | Sharpe=0.731 | Hit=56.0% | Samples=341
2025-09-12 01:46:45,503 - INFO -   Fold 5: M38, M11 | Sharpe=0.726 | Hit=50.4% | Samples=341
2025-09-12 01:46:45,503 - INFO -   Fold 6: M38, M11 | Sharpe=0.461 | Hit=52.3% | Samples=348
2025-09-12 01:46:45,503 - INFO - ================================================================================
2025-09-12 01:46:45,503 - INFO - ================================================================================
2025-09-12 01:46:45,503 - INFO - ANALYSIS COMPLETED SUCCESSFULLY!
2025-09-12 01:46:45,503 - INFO - ================================================================================
2025-09-12 01:46:45,503 - INFO - Generated 2 visualization files
2025-09-12 01:46:45,503 - INFO -   - 20250912_012521_fold_@EU#C_50models_8folds_hitQ_EU_deep.png
2025-09-12 01:46:45,503 - INFO -   - 20250912_012521_backtest_@EU#C_50models_8folds_hitQ_EU_deep.png
2025-09-12 01:46:45,503 - INFO - Training Final: Sharpe=0.970 | Hit=53.1% | Return=3.50% | CB=0.778
2025-09-12 01:46:45,503 - INFO - Production Final: Sharpe=0.594 | Hit=51.4% | Return=2.20% | CB=0.662
2025-09-12 01:46:45,503 - INFO - Full Timeline Final: Sharpe=0.841 | Hit=52.5% | Return=3.07% | CB=0.681
