2025-09-09 19:30:28,965 - INFO - ================================================================================
2025-09-09 19:30:28,965 - INFO - XGBoost Comparison Framework
2025-09-09 19:30:28,965 - INFO - ================================================================================
2025-09-09 19:30:28,965 - INFO - Configuration:
2025-09-09 19:30:28,965 - INFO -   Target Symbol: @ES#C
2025-09-09 19:30:28,965 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-09 19:30:28,965 - INFO -   Models: 50, Type: standard
2025-09-09 19:30:28,965 - INFO -   Folds: 10
2025-09-09 19:30:28,965 - INFO -   Max Features: -1 (All after cluster reduction)
2025-09-09 19:30:28,965 - INFO -   Feature Selection: Enabled
2025-09-09 19:30:28,965 - INFO -   Inner Val Fraction: 0.2
2025-09-09 19:30:28,965 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-09 19:30:28,965 - INFO -   Signal Type: Tanh Normalized
2025-09-09 19:30:28,965 - INFO -   Cross-validation: Rolling 756 days
2025-09-09 19:30:28,965 - INFO -   Production: Cutoff=0.6, Top N=5, Q-Metric=sharpe
2025-09-09 19:30:28,965 - INFO -   Reselection: Every 1 fold(s)
2025-09-09 19:30:28,965 - INFO - 
2025-09-09 19:30:31,427 - INFO - Loaded: X=(2733, 1054), y=(2733,)
2025-09-09 19:30:36,910 - INFO - Selected 400 features (threshold: 0.7)
2025-09-09 19:30:36,918 - INFO - Selected: 400 features
2025-09-09 19:30:37,111 - INFO - GPU detection: CUDA GPU available
2025-09-09 19:30:37,111 - INFO - Processing mode: GPU sequential (optimal for large model counts)
2025-09-09 19:30:37,111 - INFO -   Total models to train: 500
2025-09-09 19:30:37,111 - INFO -   GPU available: True
2025-09-09 19:30:37,119 - INFO - GPU detection: CUDA GPU available
2025-09-09 19:30:37,120 - INFO - Using rolling window: 756 days
2025-09-09 19:30:37,120 - INFO - Starting analysis: 50 standard models x 9 folds
2025-09-09 19:30:37,120 - INFO - Processing Fold 1/9
2025-09-09 19:30:37,130 - INFO -   Using GPU sequential processing
2025-09-09 19:30:54,416 - INFO - Fold 1 Summary:
2025-09-09 19:30:54,417 - INFO -   Best OOS Sharpe: M03 (2.013, p=0.050)
2025-09-09 19:30:54,417 - INFO -   Best Q-Sharpe:   M03 (2.013, OOS=2.013)
2025-09-09 19:30:54,417 - INFO -   Mean OOS Sharpe: 0.405
2025-09-09 19:30:54,417 - INFO - 
2025-09-09 19:30:54,419 - INFO - Processing Fold 2/9
2025-09-09 19:30:54,429 - INFO -   Using GPU sequential processing
2025-09-09 19:31:40,758 - INFO - Fold 2 Summary:
2025-09-09 19:31:40,758 - INFO -   Best OOS Sharpe: M20 (1.736, p=0.060)
2025-09-09 19:31:40,758 - INFO -   Best Q-Sharpe:   M03 (1.951, OOS=1.393)
2025-09-09 19:31:40,758 - INFO -   Mean OOS Sharpe: 0.425
2025-09-09 19:31:40,758 - INFO - 
2025-09-09 19:31:40,761 - INFO - Processing Fold 3/9
2025-09-09 19:31:40,775 - INFO -   Using GPU sequential processing
2025-09-09 19:32:31,072 - INFO - Fold 3 Summary:
2025-09-09 19:32:31,072 - INFO -   Best OOS Sharpe: M39 (2.530, p=0.010)
2025-09-09 19:32:31,072 - INFO -   Best Q-Sharpe:   M03 (1.903, OOS=1.470)
2025-09-09 19:32:31,072 - INFO -   Mean OOS Sharpe: 0.736
2025-09-09 19:32:31,073 - INFO - 
2025-09-09 19:32:31,076 - INFO - Processing Fold 4/9
2025-09-09 19:32:31,087 - INFO -   Using GPU sequential processing
2025-09-09 19:33:20,956 - INFO - Fold 4 Summary:
2025-09-09 19:33:20,956 - INFO -   Best OOS Sharpe: M23 (0.958, p=0.300)
2025-09-09 19:33:20,956 - INFO -   Best Q-Sharpe:   M03 (1.645, OOS=-0.675)
2025-09-09 19:33:20,956 - INFO -   Mean OOS Sharpe: -0.052
2025-09-09 19:33:20,956 - INFO - 
2025-09-09 19:33:20,960 - INFO - Processing Fold 5/9
2025-09-09 19:33:20,969 - INFO -   Using GPU sequential processing
2025-09-09 19:34:12,568 - INFO - Fold 5 Summary:
2025-09-09 19:34:12,568 - INFO -   Best OOS Sharpe: M46 (2.461, p=0.010)
2025-09-09 19:34:12,568 - INFO -   Best Q-Sharpe:   M03 (1.470, OOS=-0.109)
2025-09-09 19:34:12,568 - INFO -   Mean OOS Sharpe: 0.541
2025-09-09 19:34:12,568 - INFO - 
2025-09-09 19:34:12,572 - INFO - Processing Fold 6/9
2025-09-09 19:34:12,583 - INFO -   Using GPU sequential processing
2025-09-09 19:35:04,239 - INFO - Fold 6 Summary:
2025-09-09 19:35:04,239 - INFO -   Best OOS Sharpe: M28 (2.587, p=0.020)
2025-09-09 19:35:04,239 - INFO -   Best Q-Sharpe:   M03 (1.312, OOS=-0.111)
2025-09-09 19:35:04,239 - INFO -   Mean OOS Sharpe: 0.598
2025-09-09 19:35:04,239 - INFO - 
2025-09-09 19:35:04,242 - INFO - Processing Fold 7/9
2025-09-09 19:35:04,254 - INFO -   Using GPU sequential processing
2025-09-09 19:35:56,434 - INFO - Fold 7 Summary:
2025-09-09 19:35:56,434 - INFO -   Best OOS Sharpe: M12 (1.490, p=0.130)
2025-09-09 19:35:56,435 - INFO -   Best Q-Sharpe:   M03 (1.258, OOS=0.778)
2025-09-09 19:35:56,435 - INFO -   Mean OOS Sharpe: 0.061
2025-09-09 19:35:56,435 - INFO - 
2025-09-09 19:35:56,438 - INFO - Processing Fold 8/9
2025-09-09 19:35:56,448 - INFO -   Using GPU sequential processing
2025-09-09 19:36:48,232 - INFO - Fold 8 Summary:
2025-09-09 19:36:48,232 - INFO -   Best OOS Sharpe: M49 (2.441, p=0.010)
2025-09-09 19:36:48,232 - INFO -   Best Q-Sharpe:   M03 (1.101, OOS=-0.318)
2025-09-09 19:36:48,232 - INFO -   Mean OOS Sharpe: -0.026
2025-09-09 19:36:48,232 - INFO - 
2025-09-09 19:36:48,235 - INFO - Processing Fold 9/9
2025-09-09 19:36:48,247 - INFO -   Using GPU sequential processing
2025-09-09 19:37:40,207 - INFO - Fold 9 Summary:
2025-09-09 19:37:40,208 - INFO -   Best OOS Sharpe: M30 (1.877, p=0.030)
2025-09-09 19:37:40,208 - INFO -   Best Q-Sharpe:   M10 (0.876, OOS=0.629)
2025-09-09 19:37:40,208 - INFO -   Mean OOS Sharpe: -0.028
2025-09-09 19:37:40,208 - INFO - 
2025-09-09 19:37:40,211 - INFO - Starting full timeline backtesting...
2025-09-09 19:37:40,211 - INFO - Running full timeline backtest with 9 folds (starting from fold 2)
2025-09-09 19:37:40,211 - INFO - Fold 1 skipped (no Q-score history for meaningful selection)
2025-09-09 19:37:40,211 - INFO - Effective backtest period: Folds 2-9 (8 folds)
2025-09-09 19:37:40,211 - INFO - Training period: Folds 2-5
2025-09-09 19:37:40,211 - INFO - Production period: Folds 6-9
2025-09-09 19:37:40,211 - INFO - Using same OOS methodology for both periods
2025-09-09 19:37:40,211 - INFO - Fold 1: Skipped (no prior Q-score history for meaningful selection)
2025-09-09 19:37:40,211 - INFO - Processing fold 2/9
2025-09-09 19:37:40,223 - INFO - Fold 2: Q-scores from fold 0: ['M00:-0.151', 'M01:0.929', 'M02:0.104', 'M03:2.013', 'M04:1.001']...
2025-09-09 19:37:40,223 - INFO - Fold 2: First meaningful selection based on fold 1 Q-scores, models [3, 18, 43, 8, 12], avg Q-score: 1.587
2025-09-09 19:37:40,225 - INFO - Fold 2 (Training): Sharpe=0.786, Hit=52.4%
2025-09-09 19:37:40,225 - INFO - Processing fold 3/9
2025-09-09 19:37:40,237 - INFO - Fold 3: Q-scores from fold 1: ['M00:-0.159', 'M01:0.924', 'M02:0.116', 'M03:1.951', 'M04:0.937']...
2025-09-09 19:37:40,237 - INFO - Fold 3: Selected based on fold 2 Q-scores, models [3, 18, 8, 19, 43], avg Q-score: 1.510
2025-09-09 19:37:40,239 - INFO - Fold 3 (Training): Sharpe=1.534, Hit=49.1%
2025-09-09 19:37:40,239 - INFO - Processing fold 4/9
2025-09-09 19:37:40,252 - INFO - Fold 4: Q-scores from fold 2: ['M00:-0.114', 'M01:0.877', 'M02:0.074', 'M03:1.903', 'M04:0.875']...
2025-09-09 19:37:40,252 - INFO - Fold 4: Selected based on fold 3 Q-scores, models [3, 18, 43, 8, 19], avg Q-score: 1.475
2025-09-09 19:37:40,253 - INFO - Fold 4 (Training): Sharpe=-0.622, Hit=47.6%
2025-09-09 19:37:40,253 - INFO - Processing fold 5/9
2025-09-09 19:37:40,264 - INFO - Fold 5: Q-scores from fold 3: ['M00:-0.052', 'M01:0.836', 'M02:-0.043', 'M03:1.645', 'M04:0.808']...
2025-09-09 19:37:40,265 - INFO - Fold 5: Selected based on fold 4 Q-scores, models [3, 18, 43, 19, 8], avg Q-score: 1.287
2025-09-09 19:37:40,266 - INFO - Fold 5 (Training): Sharpe=0.087, Hit=52.0%
2025-09-09 19:37:40,266 - INFO - Processing fold 6/9
2025-09-09 19:37:40,275 - INFO - Fold 6: Q-scores from fold 4: ['M00:-0.092', 'M01:0.763', 'M02:0.042', 'M03:1.470', 'M04:0.824']...
2025-09-09 19:37:40,275 - INFO - Fold 6: Selected based on fold 5 Q-scores, models [3, 18, 43, 8, 20], avg Q-score: 1.187
2025-09-09 19:37:40,277 - INFO - Fold 6 (Production): Sharpe=0.216, Hit=45.4%
2025-09-09 19:37:40,277 - INFO - Processing fold 7/9
2025-09-09 19:37:40,289 - INFO - Fold 7: Q-scores from fold 5: ['M00:0.064', 'M01:0.767', 'M02:0.096', 'M03:1.312', 'M04:0.888']...
2025-09-09 19:37:40,290 - INFO - Fold 7: Selected based on fold 6 Q-scores, models [3, 18, 5, 10, 43], avg Q-score: 1.094
2025-09-09 19:37:40,291 - INFO - Fold 7 (Production): Sharpe=0.219, Hit=50.9%
2025-09-09 19:37:40,291 - INFO - Processing fold 8/9
2025-09-09 19:37:40,306 - INFO - Fold 8: Q-scores from fold 6: ['M00:0.076', 'M01:0.498', 'M02:0.174', 'M03:1.258', 'M04:0.637']...
2025-09-09 19:37:40,306 - INFO - Fold 8: Selected based on fold 7 Q-scores, models [3, 18, 12, 10, 8], avg Q-score: 1.047
2025-09-09 19:37:40,307 - INFO - Fold 8 (Production): Sharpe=-0.397, Hit=45.1%
2025-09-09 19:37:40,307 - INFO - Processing fold 9/9
2025-09-09 19:37:40,317 - INFO - Fold 9: Q-scores from fold 7: ['M00:0.115', 'M01:0.507', 'M02:0.177', 'M03:1.101', 'M04:0.577']...
2025-09-09 19:37:40,317 - INFO - Fold 9: Selected based on fold 8 Q-scores, models [3, 10, 12, 18, 20], avg Q-score: 0.926
2025-09-09 19:37:40,319 - INFO - Fold 9 (Production): Sharpe=-0.487, Hit=47.1%
2025-09-09 19:37:40,321 - INFO - Training Period Overall: Sharpe=0.439, Hit=57.0%
2025-09-09 19:37:40,322 - INFO - Production Period Overall: Sharpe=0.321, Hit=54.0%
2025-09-09 19:37:40,324 - INFO - Full Timeline Overall: Sharpe=0.382, Hit=55.5%
2025-09-09 19:37:40,324 - INFO - Training: Sharpe=0.439 | Hit=57.0% | Return=2.19%
2025-09-09 19:37:40,324 - INFO - Production: Sharpe=0.321 | Hit=54.0% | Return=1.48%
2025-09-09 19:37:40,324 - INFO - Full Timeline: Sharpe=0.382 | Hit=55.5% | Return=1.83%
2025-09-09 19:37:40,324 - INFO - Generating visualizations...
2025-09-09 19:37:40,324 - INFO - Creating clean visualizations for 50 models...
2025-09-09 19:37:44,837 - INFO - Saved with DPI=300, estimated height=25650px, showing 20/50 models
2025-09-09 19:37:44,837 - INFO - Clean fold-by-fold analysis saved to: fold_@ES#C_50models_10folds_rolling_3yr_sharpe_20250909_193740.png
2025-09-09 19:37:44,837 - INFO - Image optimized for 50 models x 9 folds: DPI=300, Height=85.5in
2025-09-09 19:37:45,084 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-09-09 19:37:45,084 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-09-09 19:37:45,306 - INFO - Using actual training period PnL (1092 days)
2025-09-09 19:37:46,883 - INFO - Detailed production analysis saved to: backtest_@ES#C_50models_10folds_rolling_3yr_sharpe_20250909_193740.png
2025-09-09 19:37:46,884 - INFO - ================================================================================
2025-09-09 19:37:46,884 - INFO - BACKTEST SUMMARY
2025-09-09 19:37:46,884 - INFO - ================================================================================
2025-09-09 19:37:46,884 - INFO - Config: Cutoff=70%, Top N=5, Q-Metric=sharpe, Reselection=1 fold(s)
2025-09-09 19:37:46,884 - INFO - Model Selection History:
2025-09-09 19:37:46,884 - INFO -   Fold 2: M03, M18, M43, M08, M12 (Avg Q-sharpe: 1.587)
2025-09-09 19:37:46,884 - INFO -   Fold 3: M03, M18, M08, M19, M43 (Avg Q-sharpe: 1.510)
2025-09-09 19:37:46,884 - INFO -   Fold 4: M03, M18, M43, M08, M19 (Avg Q-sharpe: 1.475)
2025-09-09 19:37:46,884 - INFO -   Fold 5: M03, M18, M43, M19, M08 (Avg Q-sharpe: 1.287)
2025-09-09 19:37:46,884 - INFO -   Fold 6: M03, M18, M43, M08, M20 (Avg Q-sharpe: 1.187)
2025-09-09 19:37:46,884 - INFO -   Fold 7: M03, M18, M05, M10, M43 (Avg Q-sharpe: 1.094)
2025-09-09 19:37:46,884 - INFO -   Fold 8: M03, M18, M12, M10, M08 (Avg Q-sharpe: 1.047)
2025-09-09 19:37:46,884 - INFO -   Fold 9: M03, M10, M12, M18, M20 (Avg Q-sharpe: 0.926)
2025-09-09 19:37:46,884 - INFO - 
2025-09-09 19:37:46,884 - INFO - Fold-by-Fold Performance:
2025-09-09 19:37:46,884 - INFO -   Fold 2: M03, M18, M43, M08, M12 | Sharpe=0.786 | Hit=52.4% | Samples=273
2025-09-09 19:37:46,884 - INFO -   Fold 3: M03, M18, M08, M19, M43 | Sharpe=1.534 | Hit=49.1% | Samples=273
2025-09-09 19:37:46,884 - INFO -   Fold 4: M03, M18, M43, M08, M19 | Sharpe=-0.622 | Hit=47.6% | Samples=273
2025-09-09 19:37:46,884 - INFO -   Fold 5: M03, M18, M43, M19, M08 | Sharpe=0.087 | Hit=52.0% | Samples=273
2025-09-09 19:37:46,884 - INFO -   Fold 6: M03, M18, M43, M08, M20 | Sharpe=0.216 | Hit=45.4% | Samples=273
2025-09-09 19:37:46,884 - INFO -   Fold 7: M03, M18, M05, M10, M43 | Sharpe=0.219 | Hit=50.9% | Samples=273
2025-09-09 19:37:46,884 - INFO -   Fold 8: M03, M18, M12, M10, M08 | Sharpe=-0.397 | Hit=45.1% | Samples=273
2025-09-09 19:37:46,884 - INFO -   Fold 9: M03, M10, M12, M18, M20 | Sharpe=-0.487 | Hit=47.1% | Samples=276
2025-09-09 19:37:46,884 - INFO - ================================================================================
2025-09-09 19:37:46,884 - INFO - ================================================================================
2025-09-09 19:37:46,884 - INFO - ANALYSIS COMPLETED SUCCESSFULLY!
2025-09-09 19:37:46,884 - INFO - ================================================================================
2025-09-09 19:37:46,884 - INFO - Generated 2 visualization files
2025-09-09 19:37:46,885 - INFO -   - fold_@ES#C_50models_10folds_rolling_3yr_sharpe_20250909_193740.png
2025-09-09 19:37:46,885 - INFO -   - backtest_@ES#C_50models_10folds_rolling_3yr_sharpe_20250909_193740.png
2025-09-09 19:37:46,885 - INFO - 
Final Results: Sharpe=0.382 | Hit=55.5% | Return=1.83%
