2025-09-12 00:41:07,983 - INFO - ================================================================================
2025-09-12 00:41:07,983 - INFO - XGBoost Comparison Framework
2025-09-12 00:41:07,983 - INFO - ================================================================================
2025-09-12 00:41:07,983 - INFO - Configuration:
2025-09-12 00:41:07,983 - INFO -   Target Symbol: @EU#C
2025-09-12 00:41:07,983 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-12 00:41:07,983 - INFO -   Models: 150, Type: tiered
2025-09-12 00:41:07,983 - INFO -   Folds: 10
2025-09-12 00:41:07,983 - INFO -   Max Features: 250 (Limited)
2025-09-12 00:41:07,983 - INFO -   Feature Selection: Enabled
2025-09-12 00:41:07,983 - INFO -   Inner Val Fraction: 0.2
2025-09-12 00:41:07,983 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-12 00:41:07,983 - INFO -   Signal Type: Tanh Normalized
2025-09-12 00:41:07,983 - INFO -   Cross-validation: Expanding window
2025-09-12 00:41:07,983 - INFO -   Production: Cutoff=0.6, Top N=8, Q-Metric=sharpe
2025-09-12 00:41:07,983 - INFO -   Reselection: Every 1 fold(s)
2025-09-12 00:41:07,983 - INFO - 
2025-09-12 00:41:24,672 - INFO - Loaded: X=(2735, 1906), y=(2735,)
2025-09-12 00:42:47,369 - INFO - Selected 250 features (threshold: 0.7)
2025-09-12 00:42:47,481 - INFO - Selected: 250 features
2025-09-12 00:42:47,814 - INFO - GPU detection: XGBoost not compiled with CUDA support - using CPU
2025-09-12 00:42:47,816 - INFO - Processing mode: CPU multiprocessing (GPU: False, Total models: 1500)
2025-09-12 00:42:47,916 - INFO - GPU detection: XGBoost not compiled with CUDA support - using CPU
2025-09-12 00:42:47,942 - INFO - Using expanding window
2025-09-12 00:42:47,943 - INFO - Starting analysis: 150 tiered models x 9 folds
2025-09-12 00:42:47,943 - INFO - Processing Fold 1/9
2025-09-12 00:42:47,953 - INFO -   Using multiprocessing with 9 workers
2025-09-12 00:47:24,778 - INFO - Fold 1 Summary:
2025-09-12 00:47:24,780 - INFO -   Best OOS Sharpe: M74 (1.912, p=0.040)
2025-09-12 00:47:24,780 - INFO -   Best Q-Sharpe:  M74 (1.912, OOS_Sharpe=1.912, OOS_Hit=0.548)
2025-09-12 00:47:24,780 - INFO -   Mean OOS Sharpe: 0.439, Mean Hit: 0.504
2025-09-12 00:47:24,780 - INFO - 
2025-09-12 00:47:24,809 - INFO - Processing Fold 2/9
2025-09-12 00:47:24,878 - INFO -   Using multiprocessing with 9 workers
2025-09-12 00:53:44,188 - INFO - Fold 2 Summary:
2025-09-12 00:53:44,193 - INFO -   Best OOS Sharpe: M39 (1.048, p=0.260)
2025-09-12 00:53:44,193 - INFO -   Best Q-Sharpe:  M74 (1.794, OOS_Sharpe=0.735, OOS_Hit=0.544)
2025-09-12 00:53:44,193 - INFO -   Mean OOS Sharpe: -0.716, Mean Hit: 0.505
2025-09-12 00:53:44,193 - INFO - 
2025-09-12 00:53:44,240 - INFO - Processing Fold 3/9
2025-09-12 00:53:44,288 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:01:27,841 - INFO - Fold 3 Summary:
2025-09-12 01:01:27,849 - INFO -   Best OOS Sharpe: M143 (0.957, p=0.280)
2025-09-12 01:01:27,849 - INFO -   Best Q-Sharpe:  M74 (1.461, OOS_Sharpe=-1.537, OOS_Hit=0.452)
2025-09-12 01:01:27,849 - INFO -   Mean OOS Sharpe: -0.938, Mean Hit: 0.495
2025-09-12 01:01:27,849 - INFO - 
2025-09-12 01:01:27,930 - INFO - Processing Fold 4/9
2025-09-12 01:01:28,032 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:08:06,579 - INFO - Fold 4 Summary:
2025-09-12 01:08:06,589 - INFO -   Best OOS Sharpe: M99 (1.716, p=0.140)
2025-09-12 01:08:06,590 - INFO -   Best Q-Sharpe:  M74 (1.285, OOS_Sharpe=-0.302, OOS_Hit=0.555)
2025-09-12 01:08:06,590 - INFO -   Mean OOS Sharpe: 0.085, Mean Hit: 0.515
2025-09-12 01:08:06,590 - INFO - 
2025-09-12 01:08:06,643 - INFO - Processing Fold 5/9
2025-09-12 01:08:06,720 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:15:05,473 - INFO - Fold 5 Summary:
2025-09-12 01:15:05,477 - INFO -   Best OOS Sharpe: M102 (2.862, p=0.000)
2025-09-12 01:15:05,477 - INFO -   Best Q-Sharpe:  M34 (1.196, OOS_Sharpe=2.160, OOS_Hit=0.537)
2025-09-12 01:15:05,477 - INFO -   Mean OOS Sharpe: 1.327, Mean Hit: 0.526
2025-09-12 01:15:05,477 - INFO - 
2025-09-12 01:15:05,537 - INFO - Processing Fold 6/9
2025-09-12 01:15:05,589 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:19:26,804 - INFO - Fold 6 Summary:
2025-09-12 01:19:26,809 - INFO -   Best OOS Sharpe: M101 (2.731, p=0.000)
2025-09-12 01:19:26,809 - INFO -   Best Q-Sharpe:  M144 (1.182, OOS_Sharpe=1.518, OOS_Hit=0.515)
2025-09-12 01:19:26,809 - INFO -   Mean OOS Sharpe: 0.931, Mean Hit: 0.496
2025-09-12 01:19:26,809 - INFO - 
2025-09-12 01:19:26,875 - INFO - Processing Fold 7/9
2025-09-12 01:19:26,931 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:23:27,286 - INFO - Fold 7 Summary:
2025-09-12 01:23:27,289 - INFO -   Best OOS Sharpe: M99 (1.646, p=0.120)
2025-09-12 01:23:27,289 - INFO -   Best Q-Sharpe:  M47 (1.092, OOS_Sharpe=0.403, OOS_Hit=0.493)
2025-09-12 01:23:27,289 - INFO -   Mean OOS Sharpe: 0.307, Mean Hit: 0.487
2025-09-12 01:23:27,289 - INFO - 
2025-09-12 01:23:27,351 - INFO - Processing Fold 8/9
2025-09-12 01:23:27,455 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:28:08,374 - INFO - Fold 8 Summary:
2025-09-12 01:28:08,376 - INFO -   Best OOS Sharpe: M19 (2.645, p=0.000)
2025-09-12 01:28:08,376 - INFO -   Best Q-Sharpe:  M47 (1.158, OOS_Sharpe=1.748, OOS_Hit=0.537)
2025-09-12 01:28:08,376 - INFO -   Mean OOS Sharpe: 1.121, Mean Hit: 0.526
2025-09-12 01:28:08,376 - INFO - 
2025-09-12 01:28:08,452 - INFO - Processing Fold 9/9
2025-09-12 01:28:08,492 - INFO -   Using multiprocessing with 9 workers
2025-09-12 01:41:55,924 - INFO - Fold 9 Summary:
2025-09-12 01:41:55,961 - INFO -   Best OOS Sharpe: M68 (1.825, p=0.100)
2025-09-12 01:41:55,961 - INFO -   Best Q-Sharpe:  M47 (1.085, OOS_Sharpe=0.436, OOS_Hit=0.509)
2025-09-12 01:41:55,968 - INFO -   Mean OOS Sharpe: 0.180, Mean Hit: 0.487
2025-09-12 01:41:55,970 - INFO - 
2025-09-12 01:41:56,887 - INFO - Starting full timeline backtesting...
2025-09-12 01:41:56,919 - INFO - Running full timeline backtest with 9 folds (0-based indexing)
2025-09-12 01:41:56,924 - INFO - Fold 0 skipped (no prior Q-score history for meaningful selection)
2025-09-12 01:41:56,935 - INFO - Effective backtest period: Folds 1-8 (8 folds)
2025-09-12 01:41:56,940 - INFO - Training period: Folds 1-5
2025-09-12 01:41:56,940 - INFO - Production period: Folds 6-8
2025-09-12 01:41:56,941 - INFO - Using consistent OOS methodology for all folds
2025-09-12 01:41:56,980 - INFO - Fold 0: Skipped (no prior Q-score history for meaningful selection)
2025-09-12 01:41:56,980 - INFO - 
--- Processing fold 1/8 ---
2025-09-12 01:41:58,407 - INFO - Fold 1: Q-scores from fold 0: ['M00:0.549', 'M01:-0.248', 'M02:0.548', 'M03:-0.676', 'M04:1.428']...
2025-09-12 01:41:58,459 - INFO - Fold 1: Selected models [74, 106, 47, 52, 144, 60, 59, 34] based on fold 0 Q-scores, avg Q-score: 1.696
2025-09-12 01:41:58,842 - INFO - Fold 1 (Training): Sharpe=2.040, Hit=52.7%
2025-09-12 01:41:58,847 - INFO - 
--- Processing fold 2/8 ---
2025-09-12 01:41:59,248 - INFO - Fold 2: Q-scores from fold 1: ['M00:0.411', 'M01:-0.282', 'M02:0.437', 'M03:-0.581', 'M04:1.239']...
2025-09-12 01:41:59,276 - INFO - Fold 2: Selected models [74, 47, 106, 144, 59, 52, 60, 34] based on fold 1 Q-scores, avg Q-score: 1.492
2025-09-12 01:41:59,339 - INFO - Fold 2 (Training): Sharpe=0.806, Hit=48.0%
2025-09-12 01:41:59,342 - INFO - 
--- Processing fold 3/8 ---
2025-09-12 01:41:59,880 - INFO - Fold 3: Q-scores from fold 2: ['M00:0.205', 'M01:-0.294', 'M02:0.300', 'M03:-0.541', 'M04:0.976']...
2025-09-12 01:41:59,986 - INFO - Fold 3: Selected models [74, 47, 106, 52, 67, 34, 59, 144] based on fold 2 Q-scores, avg Q-score: 1.252
2025-09-12 01:42:00,195 - INFO - Fold 3 (Training): Sharpe=1.001, Hit=52.7%
2025-09-12 01:42:00,319 - INFO - 
--- Processing fold 4/8 ---
2025-09-12 01:42:00,619 - INFO - Fold 4: Q-scores from fold 3: ['M00:0.226', 'M01:-0.157', 'M02:0.322', 'M03:-0.521', 'M04:0.982']...
2025-09-12 01:42:00,621 - INFO - Fold 4: Selected models [74, 47, 106, 67, 52, 144, 34, 59] based on fold 3 Q-scores, avg Q-score: 1.152
2025-09-12 01:42:00,658 - INFO - Fold 4 (Training): Sharpe=1.077, Hit=50.9%
2025-09-12 01:42:00,658 - INFO - 
--- Processing fold 5/8 ---
2025-09-12 01:42:01,205 - INFO - Fold 5: Q-scores from fold 4: ['M00:0.368', 'M01:-0.006', 'M02:0.448', 'M03:-0.376', 'M04:0.951']...
2025-09-12 01:42:01,246 - INFO - Fold 5: Selected models [34, 106, 59, 74, 144, 47, 60, 67] based on fold 4 Q-scores, avg Q-score: 1.144
2025-09-12 01:42:01,465 - INFO - Fold 5 (Training): Sharpe=0.746, Hit=50.5%
2025-09-12 01:42:01,468 - INFO - 
--- Processing fold 6/8 ---
2025-09-12 01:42:01,897 - INFO - Fold 6: Q-scores from fold 5: ['M00:0.413', 'M01:0.152', 'M02:0.538', 'M03:-0.186', 'M04:0.948']...
2025-09-12 01:42:01,906 - INFO - Fold 6: Selected models [144, 47, 34, 59, 52, 67, 106, 74] based on fold 5 Q-scores, avg Q-score: 1.112
2025-09-12 01:42:01,944 - INFO - Fold 6 (Production): Sharpe=1.409, Hit=54.2%
2025-09-12 01:42:01,945 - INFO - 
--- Processing fold 7/8 ---
2025-09-12 01:42:02,212 - INFO - Fold 7: Q-scores from fold 6: ['M00:0.512', 'M01:0.249', 'M02:0.567', 'M03:-0.160', 'M04:0.911']...
2025-09-12 01:42:02,226 - INFO - Fold 7: Selected models [47, 52, 144, 106, 34, 59, 74, 76] based on fold 6 Q-scores, avg Q-score: 1.015
2025-09-12 01:42:02,280 - INFO - Fold 7 (Production): Sharpe=0.690, Hit=57.5%
2025-09-12 01:42:02,281 - INFO - 
--- Processing fold 8/8 ---
2025-09-12 01:42:02,805 - INFO - Fold 8: Q-scores from fold 7: ['M00:0.723', 'M01:0.390', 'M02:0.738', 'M03:0.092', 'M04:0.880']...
2025-09-12 01:42:02,806 - INFO - Fold 8: Selected models [47, 144, 52, 106, 34, 67, 59, 76] based on fold 7 Q-scores, avg Q-score: 1.024
2025-09-12 01:42:02,875 - INFO - Fold 8 (Production): Sharpe=1.224, Hit=56.1%
2025-09-12 01:42:02,887 - INFO - Training Period Overall: Sharpe=1.098, Hit=51.0%
2025-09-12 01:42:02,933 - INFO - Production Period Overall: Sharpe=1.132, Hit=55.9%
2025-09-12 01:42:02,972 - INFO - Full Timeline Overall: Sharpe=1.107, Hit=52.9%
2025-09-12 01:42:02,974 - INFO - Training: Sharpe=1.098 | Hit=51.0% | Return=3.59%
2025-09-12 01:42:02,974 - INFO - Production: Sharpe=1.132 | Hit=55.9% | Return=4.53%
2025-09-12 01:42:02,974 - INFO - Full Timeline: Sharpe=1.107 | Hit=52.9% | Return=3.94%
2025-09-12 01:42:02,975 - INFO - Generating visualizations...
2025-09-12 01:42:02,984 - INFO - Creating clean visualizations for 150 models...
2025-09-12 01:42:08,756 - INFO - Clean fold-by-fold analysis saved to: 20250912_004107_fold_@EU#C_150models_10folds_phase5_EU_tanh_10F_tiered_250F_150M.png
2025-09-12 01:42:13,970 - INFO - Detailed production analysis saved to: 20250912_004107_backtest_@EU#C_150models_10folds_phase5_EU_tanh_10F_tiered_250F_150M.png
2025-09-12 01:42:13,972 - INFO - ================================================================================
2025-09-12 01:42:13,972 - INFO - BACKTEST SUMMARY
2025-09-12 01:42:13,972 - INFO - ================================================================================
2025-09-12 01:42:13,972 - INFO - Config: Cutoff=70%, Top N=5, Q-Metric=sharpe, Reselection=1 fold(s)
2025-09-12 01:42:13,972 - INFO - Model Selection History:
2025-09-12 01:42:13,972 - INFO -   Fold 1: M74, M106, M47, M52, M144, M60, M59, M34 (Avg Q-sharpe: 1.696)
2025-09-12 01:42:13,972 - INFO -   Fold 2: M74, M47, M106, M144, M59, M52, M60, M34 (Avg Q-sharpe: 1.492)
2025-09-12 01:42:13,972 - INFO -   Fold 3: M74, M47, M106, M52, M67, M34, M59, M144 (Avg Q-sharpe: 1.252)
2025-09-12 01:42:13,972 - INFO -   Fold 4: M74, M47, M106, M67, M52, M144, M34, M59 (Avg Q-sharpe: 1.152)
2025-09-12 01:42:13,972 - INFO -   Fold 5: M34, M106, M59, M74, M144, M47, M60, M67 (Avg Q-sharpe: 1.144)
2025-09-12 01:42:13,972 - INFO -   Fold 6: M144, M47, M34, M59, M52, M67, M106, M74 (Avg Q-sharpe: 1.112)
2025-09-12 01:42:13,972 - INFO -   Fold 7: M47, M52, M144, M106, M34, M59, M74, M76 (Avg Q-sharpe: 1.015)
2025-09-12 01:42:13,972 - INFO -   Fold 8: M47, M144, M52, M106, M34, M67, M59, M76 (Avg Q-sharpe: 1.024)
2025-09-12 01:42:13,972 - INFO - 
2025-09-12 01:42:13,972 - INFO - Fold-by-Fold Performance:
2025-09-12 01:42:13,972 - INFO -   Fold 1: M74, M106, M47, M52, M144, M60, M59, M34 | Sharpe=2.040 | Hit=52.7% | Samples=273
2025-09-12 01:42:13,972 - INFO -   Fold 2: M74, M47, M106, M144, M59, M52, M60, M34 | Sharpe=0.806 | Hit=48.0% | Samples=273
2025-09-12 01:42:13,973 - INFO -   Fold 3: M74, M47, M106, M52, M67, M34, M59, M144 | Sharpe=1.001 | Hit=52.7% | Samples=273
2025-09-12 01:42:13,973 - INFO -   Fold 4: M74, M47, M106, M67, M52, M144, M34, M59 | Sharpe=1.077 | Hit=50.9% | Samples=273
2025-09-12 01:42:13,973 - INFO -   Fold 5: M34, M106, M59, M74, M144, M47, M60, M67 | Sharpe=0.746 | Hit=50.5% | Samples=273
2025-09-12 01:42:13,973 - INFO -   Fold 6: M144, M47, M34, M59, M52, M67, M106, M74 | Sharpe=1.409 | Hit=54.2% | Samples=273
2025-09-12 01:42:13,973 - INFO -   Fold 7: M47, M52, M144, M106, M34, M59, M74, M76 | Sharpe=0.690 | Hit=57.5% | Samples=273
2025-09-12 01:42:13,973 - INFO -   Fold 8: M47, M144, M52, M106, M34, M67, M59, M76 | Sharpe=1.224 | Hit=56.1% | Samples=278
2025-09-12 01:42:13,973 - INFO - ================================================================================
2025-09-12 01:42:13,973 - INFO - ================================================================================
2025-09-12 01:42:13,973 - INFO - ANALYSIS COMPLETED SUCCESSFULLY!
2025-09-12 01:42:13,973 - INFO - ================================================================================
2025-09-12 01:42:13,973 - INFO - Generated 2 visualization files
2025-09-12 01:42:13,973 - INFO -   - 20250912_004107_fold_@EU#C_150models_10folds_phase5_EU_tanh_10F_tiered_250F_150M.png
2025-09-12 01:42:13,973 - INFO -   - 20250912_004107_backtest_@EU#C_150models_10folds_phase5_EU_tanh_10F_tiered_250F_150M.png
2025-09-12 01:42:13,973 - INFO - Training Final: Sharpe=1.098 | Hit=51.0% | Return=3.59% | CB=0.692
2025-09-12 01:42:13,973 - INFO - Production Final: Sharpe=1.132 | Hit=55.9% | Return=4.53% | CB=1.033
2025-09-12 01:42:13,973 - INFO - Full Timeline Final: Sharpe=1.107 | Hit=52.9% | Return=3.94% | CB=0.760
