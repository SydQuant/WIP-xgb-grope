2025-09-12 18:54:31,543 - INFO - ================================================================================
2025-09-12 18:54:31,543 - INFO - XGBoost Comparison Framework
2025-09-12 18:54:31,543 - INFO - ================================================================================
2025-09-12 18:54:31,543 - INFO - Configuration:
2025-09-12 18:54:31,543 - INFO -   Target Symbol: @TY#C
2025-09-12 18:54:31,543 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-12 18:54:31,543 - INFO -   Models: 100, Type: standard
2025-09-12 18:54:31,544 - INFO -   Folds: 8
2025-09-12 18:54:31,544 - INFO -   Max Features: 100 (Limited)
2025-09-12 18:54:31,544 - INFO -   Feature Selection: Enabled
2025-09-12 18:54:31,544 - INFO -   Inner Val Fraction: 0.2
2025-09-12 18:54:31,544 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-12 18:54:31,544 - INFO -   Signal Type: Tanh Normalized
2025-09-12 18:54:31,544 - INFO -   Cross-validation: Expanding window
2025-09-12 18:54:31,544 - INFO -   Production: Cutoff=0.6, Top N=5, Q-Metric=hit_rate
2025-09-12 18:54:31,544 - INFO -   Reselection: Every 1 fold(s)
2025-09-12 18:54:31,544 - INFO - 
2025-09-12 18:54:40,044 - INFO - Loaded: X=(2735, 1906), y=(2735,)
2025-09-12 18:55:15,758 - INFO - Selected 100 features (threshold: 0.7)
2025-09-12 18:55:15,769 - INFO - Selected: 100 features
2025-09-12 18:55:16,799 - INFO - GPU detection: CUDA GPU available and working
2025-09-12 18:55:16,799 - INFO - Processing mode: GPU sequential (GPU: True, Total models: 800)
2025-09-12 18:55:17,453 - INFO - GPU detection: CUDA GPU available and working
2025-09-12 18:55:17,455 - INFO - Using expanding window
2025-09-12 18:55:17,455 - INFO - Starting analysis: 100 standard models x 7 folds
2025-09-12 18:55:17,455 - INFO - Processing Fold 1/7
2025-09-12 18:55:17,458 - INFO -   Using GPU sequential processing
2025-09-12 18:59:49,482 - INFO - Fold 1 Summary:
2025-09-12 18:59:49,482 - INFO -   Best OOS Sharpe: M50 (2.949, p=0.000)
2025-09-12 18:59:49,482 - INFO -   Best Q-Hit_Rate:  M97 (0.584, OOS_Sharpe=2.440, OOS_Hit=0.584)
2025-09-12 18:59:49,482 - INFO -   Mean OOS Sharpe: 0.842, Mean Hit: 0.507
2025-09-12 18:59:49,482 - INFO - 
2025-09-12 18:59:49,514 - INFO - Processing Fold 2/7
2025-09-12 18:59:49,517 - INFO -   Using GPU sequential processing
2025-09-12 19:04:48,206 - INFO - Fold 2 Summary:
2025-09-12 19:04:48,206 - INFO -   Best OOS Sharpe: M48 (2.624, p=0.000)
2025-09-12 19:04:48,206 - INFO -   Best Q-Hit_Rate:  M97 (0.578, OOS_Sharpe=1.018, OOS_Hit=0.525)
2025-09-12 19:04:48,206 - INFO -   Mean OOS Sharpe: 0.850, Mean Hit: 0.519
2025-09-12 19:04:48,206 - INFO - 
2025-09-12 19:04:48,209 - INFO - Processing Fold 3/7
2025-09-12 19:04:48,212 - INFO -   Using GPU sequential processing
2025-09-12 19:10:12,339 - INFO - Fold 3 Summary:
2025-09-12 19:10:12,341 - INFO -   Best OOS Sharpe: M94 (3.116, p=0.000)
2025-09-12 19:10:12,341 - INFO -   Best Q-Hit_Rate:  M97 (0.572, OOS_Sharpe=1.787, OOS_Hit=0.516)
2025-09-12 19:10:12,341 - INFO -   Mean OOS Sharpe: 1.521, Mean Hit: 0.530
2025-09-12 19:10:12,341 - INFO - 
2025-09-12 19:10:12,343 - INFO - Processing Fold 4/7
2025-09-12 19:10:12,347 - INFO -   Using GPU sequential processing
2025-09-12 19:15:54,750 - INFO - Fold 4 Summary:
2025-09-12 19:15:54,751 - INFO -   Best OOS Sharpe: M06 (1.544, p=0.060)
2025-09-12 19:15:54,751 - INFO -   Best Q-Hit_Rate:  M97 (0.562, OOS_Sharpe=0.637, OOS_Hit=0.478)
2025-09-12 19:15:54,751 - INFO -   Mean OOS Sharpe: -0.018, Mean Hit: 0.480
2025-09-12 19:15:54,751 - INFO - 
2025-09-12 19:15:54,753 - INFO - Processing Fold 5/7
2025-09-12 19:15:54,757 - INFO -   Using GPU sequential processing
2025-09-12 19:21:32,150 - INFO - Fold 5 Summary:
2025-09-12 19:21:32,180 - INFO -   Best OOS Sharpe: M92 (2.329, p=0.020)
2025-09-12 19:21:32,180 - INFO -   Best Q-Hit_Rate:  M97 (0.559, OOS_Sharpe=1.801, OOS_Hit=0.531)
2025-09-12 19:21:32,180 - INFO -   Mean OOS Sharpe: 0.624, Mean Hit: 0.519
2025-09-12 19:21:32,180 - INFO - 
2025-09-12 19:21:32,183 - INFO - Processing Fold 6/7
2025-09-12 19:21:32,187 - INFO -   Using GPU sequential processing
2025-09-12 19:27:01,509 - INFO - Fold 6 Summary:
2025-09-12 19:27:01,509 - INFO -   Best OOS Sharpe: M75 (2.759, p=0.000)
2025-09-12 19:27:01,509 - INFO -   Best Q-Hit_Rate:  M97 (0.556, OOS_Sharpe=1.491, OOS_Hit=0.525)
2025-09-12 19:27:01,509 - INFO -   Mean OOS Sharpe: 1.455, Mean Hit: 0.537
2025-09-12 19:27:01,509 - INFO - 
2025-09-12 19:27:01,512 - INFO - Processing Fold 7/7
2025-09-12 19:27:01,516 - INFO -   Using GPU sequential processing
2025-09-12 19:31:48,796 - INFO - Fold 7 Summary:
2025-09-12 19:31:48,797 - INFO -   Best OOS Sharpe: M14 (3.132, p=0.000)
2025-09-12 19:31:48,797 - INFO -   Best Q-Hit_Rate:  M97 (0.553, OOS_Sharpe=3.019, OOS_Hit=0.529)
2025-09-12 19:31:48,797 - INFO -   Mean OOS Sharpe: 1.665, Mean Hit: 0.522
2025-09-12 19:31:48,797 - INFO - 
2025-09-12 19:31:48,803 - INFO - Starting full timeline backtesting...
2025-09-12 19:31:48,803 - INFO - Running full timeline backtest with 7 folds (0-based indexing)
2025-09-12 19:31:48,803 - INFO - Fold 0 skipped (no prior Q-score history for meaningful selection)
2025-09-12 19:31:48,803 - INFO - Effective backtest period: Folds 1-6 (6 folds)
2025-09-12 19:31:48,803 - INFO - Training period: Folds 1-4
2025-09-12 19:31:48,803 - INFO - Production period: Folds 5-6
2025-09-12 19:31:48,803 - INFO - Using consistent OOS methodology for all folds
2025-09-12 19:31:48,804 - INFO - Fold 0: Skipped (no prior Q-score history for meaningful selection)
2025-09-12 19:31:48,804 - INFO - 
--- Processing fold 1/6 ---
2025-09-12 19:31:48,839 - INFO - Fold 1: Q-scores from fold 0: ['M00:0.487', 'M01:0.490', 'M02:0.475', 'M03:0.563', 'M04:0.540']...
2025-09-12 19:31:48,839 - INFO - Fold 1: Selected models [97, 3, 76, 19, 79] based on fold 0 Q-scores, avg Q-score: 0.562
2025-09-12 19:31:48,840 - INFO - Fold 1 (Training): Sharpe=0.576, Hit=51.3%
2025-09-12 19:31:48,840 - INFO - 
--- Processing fold 2/6 ---
2025-09-12 19:31:48,859 - INFO - Fold 2: Q-scores from fold 1: ['M00:0.491', 'M01:0.494', 'M02:0.478', 'M03:0.562', 'M04:0.538']...
2025-09-12 19:31:48,860 - INFO - Fold 2: Selected models [97, 3, 76, 19, 79] based on fold 1 Q-scores, avg Q-score: 0.557
2025-09-12 19:31:48,861 - INFO - Fold 2 (Training): Sharpe=1.690, Hit=53.1%
2025-09-12 19:31:48,861 - INFO - 
--- Processing fold 3/6 ---
2025-09-12 19:31:48,885 - INFO - Fold 3: Q-scores from fold 2: ['M00:0.496', 'M01:0.498', 'M02:0.482', 'M03:0.556', 'M04:0.540']...
2025-09-12 19:31:48,886 - INFO - Fold 3: Selected models [97, 3, 19, 76, 55] based on fold 2 Q-scores, avg Q-score: 0.553
2025-09-12 19:31:48,887 - INFO - Fold 3 (Training): Sharpe=0.546, Hit=49.6%
2025-09-12 19:31:48,887 - INFO - 
--- Processing fold 4/6 ---
2025-09-12 19:31:48,912 - INFO - Fold 4: Q-scores from fold 3: ['M00:0.491', 'M01:0.498', 'M02:0.479', 'M03:0.548', 'M04:0.534']...
2025-09-12 19:31:48,912 - INFO - Fold 4: Selected models [97, 3, 76, 19, 55] based on fold 3 Q-scores, avg Q-score: 0.546
2025-09-12 19:31:48,914 - INFO - Fold 4 (Training): Sharpe=1.423, Hit=52.2%
2025-09-12 19:31:48,914 - INFO - 
--- Processing fold 5/6 ---
2025-09-12 19:31:48,938 - INFO - Fold 5: Q-scores from fold 4: ['M00:0.495', 'M01:0.499', 'M02:0.482', 'M03:0.546', 'M04:0.536']...
2025-09-12 19:31:48,939 - INFO - Fold 5: Selected models [97, 3, 19, 76, 55] based on fold 4 Q-scores, avg Q-score: 0.544
2025-09-12 19:31:48,940 - INFO - Fold 5 (Production): Sharpe=1.912, Hit=54.3%
2025-09-12 19:31:48,940 - INFO - 
--- Processing fold 6/6 ---
2025-09-12 19:31:48,964 - INFO - Fold 6: Q-scores from fold 5: ['M00:0.497', 'M01:0.502', 'M02:0.490', 'M03:0.543', 'M04:0.533']...
2025-09-12 19:31:48,965 - INFO - Fold 6: Selected models [97, 3, 19, 12, 55] based on fold 5 Q-scores, avg Q-score: 0.542
2025-09-12 19:31:48,966 - INFO - Fold 6 (Production): Sharpe=2.521, Hit=53.7%
2025-09-12 19:31:48,967 - INFO - Training Period Overall: Sharpe=1.124, Hit=51.5%
2025-09-12 19:31:48,968 - INFO - Production Period Overall: Sharpe=2.172, Hit=54.0%
2025-09-12 19:31:48,970 - INFO - Full Timeline Overall: Sharpe=1.537, Hit=52.4%
2025-09-12 19:31:48,970 - INFO - Training: Sharpe=1.124 | Hit=51.5% | Return=2.65%
2025-09-12 19:31:48,970 - INFO - Production: Sharpe=2.172 | Hit=54.0% | Return=7.27%
2025-09-12 19:31:48,970 - INFO - Full Timeline: Sharpe=1.537 | Hit=52.4% | Return=4.20%
2025-09-12 19:31:48,970 - INFO - Generating visualizations...
2025-09-12 19:31:48,970 - INFO - Creating clean visualizations for 100 models...
2025-09-12 19:31:51,223 - INFO - Clean fold-by-fold analysis saved to: 20250912_185431_fold_@TY#C_100models_8folds_v2_H1.3_TY_tanh.png
2025-09-12 19:31:53,923 - INFO - Detailed production analysis saved to: 20250912_185431_backtest_@TY#C_100models_8folds_v2_H1.3_TY_tanh.png
2025-09-12 19:31:53,924 - INFO - ================================================================================
2025-09-12 19:31:53,924 - INFO - BACKTEST SUMMARY
2025-09-12 19:31:53,924 - INFO - ================================================================================
2025-09-12 19:31:53,924 - INFO - Config: Cutoff=70%, Top N=5, Q-Metric=sharpe, Reselection=1 fold(s)
2025-09-12 19:31:53,924 - INFO - Model Selection History:
2025-09-12 19:31:53,924 - INFO -   Fold 1: M97, M03, M76, M19, M79 (Avg Q-sharpe: 0.562)
2025-09-12 19:31:53,924 - INFO -   Fold 2: M97, M03, M76, M19, M79 (Avg Q-sharpe: 0.557)
2025-09-12 19:31:53,925 - INFO -   Fold 3: M97, M03, M19, M76, M55 (Avg Q-sharpe: 0.553)
2025-09-12 19:31:53,925 - INFO -   Fold 4: M97, M03, M76, M19, M55 (Avg Q-sharpe: 0.546)
2025-09-12 19:31:53,925 - INFO -   Fold 5: M97, M03, M19, M76, M55 (Avg Q-sharpe: 0.544)
2025-09-12 19:31:53,925 - INFO -   Fold 6: M97, M03, M19, M12, M55 (Avg Q-sharpe: 0.542)
2025-09-12 19:31:53,925 - INFO - 
2025-09-12 19:31:53,925 - INFO - Fold-by-Fold Performance:
2025-09-12 19:31:53,925 - INFO -   Fold 1: M97, M03, M76, M19, M79 | Sharpe=0.576 | Hit=51.3% | Samples=341
2025-09-12 19:31:53,925 - INFO -   Fold 2: M97, M03, M76, M19, M79 | Sharpe=1.690 | Hit=53.1% | Samples=341
2025-09-12 19:31:53,925 - INFO -   Fold 3: M97, M03, M19, M76, M55 | Sharpe=0.546 | Hit=49.6% | Samples=341
2025-09-12 19:31:53,925 - INFO -   Fold 4: M97, M03, M76, M19, M55 | Sharpe=1.423 | Hit=52.2% | Samples=341
2025-09-12 19:31:53,925 - INFO -   Fold 5: M97, M03, M19, M76, M55 | Sharpe=1.912 | Hit=54.3% | Samples=341
2025-09-12 19:31:53,925 - INFO -   Fold 6: M97, M03, M19, M12, M55 | Sharpe=2.521 | Hit=53.7% | Samples=348
2025-09-12 19:31:53,925 - INFO - ================================================================================
2025-09-12 19:31:53,925 - INFO - ================================================================================
2025-09-12 19:31:53,925 - INFO - ANALYSIS COMPLETED SUCCESSFULLY!
2025-09-12 19:31:53,925 - INFO - ================================================================================
2025-09-12 19:31:53,925 - INFO - Generated 2 visualization files
2025-09-12 19:31:53,925 - INFO -   - 20250912_185431_fold_@TY#C_100models_8folds_v2_H1.3_TY_tanh.png
2025-09-12 19:31:53,925 - INFO -   - 20250912_185431_backtest_@TY#C_100models_8folds_v2_H1.3_TY_tanh.png
2025-09-12 19:31:53,925 - INFO - Training Final: Sharpe=1.124 | Hit=51.5% | Return=2.65% | CB=1.340
2025-09-12 19:31:53,925 - INFO - Production Final: Sharpe=2.172 | Hit=54.0% | Return=7.27% | CB=2.104
2025-09-12 19:31:53,925 - INFO - Full Timeline Final: Sharpe=1.537 | Hit=52.4% | Return=4.20% | CB=1.216
