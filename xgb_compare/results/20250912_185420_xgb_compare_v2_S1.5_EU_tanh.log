2025-09-12 18:54:20,376 - INFO - ================================================================================
2025-09-12 18:54:20,376 - INFO - XGBoost Comparison Framework
2025-09-12 18:54:20,376 - INFO - ================================================================================
2025-09-12 18:54:20,376 - INFO - Configuration:
2025-09-12 18:54:20,376 - INFO -   Target Symbol: @EU#C
2025-09-12 18:54:20,376 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-12 18:54:20,377 - INFO -   Models: 100, Type: standard
2025-09-12 18:54:20,377 - INFO -   Folds: 8
2025-09-12 18:54:20,377 - INFO -   Max Features: 100 (Limited)
2025-09-12 18:54:20,377 - INFO -   Feature Selection: Enabled
2025-09-12 18:54:20,377 - INFO -   Inner Val Fraction: 0.2
2025-09-12 18:54:20,377 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-12 18:54:20,377 - INFO -   Signal Type: Tanh Normalized
2025-09-12 18:54:20,377 - INFO -   Cross-validation: Expanding window
2025-09-12 18:54:20,377 - INFO -   Production: Cutoff=0.6, Top N=5, Q-Metric=sharpe
2025-09-12 18:54:20,377 - INFO -   Reselection: Every 1 fold(s)
2025-09-12 18:54:20,377 - INFO - 
2025-09-12 18:54:28,422 - INFO - Loaded: X=(2735, 1906), y=(2735,)
2025-09-12 18:55:06,340 - INFO - Selected 100 features (threshold: 0.7)
2025-09-12 18:55:06,351 - INFO - Selected: 100 features
2025-09-12 18:55:07,099 - INFO - GPU detection: CUDA GPU available and working
2025-09-12 18:55:07,099 - INFO - Processing mode: GPU sequential (GPU: True, Total models: 800)
2025-09-12 18:55:07,553 - INFO - GPU detection: CUDA GPU available and working
2025-09-12 18:55:07,555 - INFO - Using expanding window
2025-09-12 18:55:07,555 - INFO - Starting analysis: 100 standard models x 7 folds
2025-09-12 18:55:07,555 - INFO - Processing Fold 1/7
2025-09-12 18:55:07,558 - INFO -   Using GPU sequential processing
2025-09-12 18:59:38,994 - INFO - Fold 1 Summary:
2025-09-12 18:59:38,995 - INFO -   Best OOS Sharpe: M44 (3.145, p=0.000)
2025-09-12 18:59:38,995 - INFO -   Best Q-Sharpe:  M44 (3.145, OOS_Sharpe=3.145, OOS_Hit=0.554)
2025-09-12 18:59:38,995 - INFO -   Mean OOS Sharpe: 1.838, Mean Hit: 0.522
2025-09-12 18:59:38,995 - INFO - 
2025-09-12 18:59:38,997 - INFO - Processing Fold 2/7
2025-09-12 18:59:39,000 - INFO -   Using GPU sequential processing
2025-09-12 19:04:54,282 - INFO - Fold 2 Summary:
2025-09-12 19:04:54,282 - INFO -   Best OOS Sharpe: M15 (2.869, p=0.000)
2025-09-12 19:04:54,282 - INFO -   Best Q-Sharpe:  M44 (2.987, OOS_Sharpe=1.561, OOS_Hit=0.557)
2025-09-12 19:04:54,282 - INFO -   Mean OOS Sharpe: 1.367, Mean Hit: 0.520
2025-09-12 19:04:54,282 - INFO - 
2025-09-12 19:04:54,305 - INFO - Processing Fold 3/7
2025-09-12 19:04:54,317 - INFO -   Using GPU sequential processing
2025-09-12 19:10:26,832 - INFO - Fold 3 Summary:
2025-09-12 19:10:26,832 - INFO -   Best OOS Sharpe: M18 (3.578, p=0.000)
2025-09-12 19:10:26,832 - INFO -   Best Q-Sharpe:  M44 (2.913, OOS_Sharpe=2.249, OOS_Hit=0.537)
2025-09-12 19:10:26,832 - INFO -   Mean OOS Sharpe: 1.980, Mean Hit: 0.525
2025-09-12 19:10:26,832 - INFO - 
2025-09-12 19:10:26,834 - INFO - Processing Fold 4/7
2025-09-12 19:10:26,838 - INFO -   Using GPU sequential processing
2025-09-12 19:16:13,872 - INFO - Fold 4 Summary:
2025-09-12 19:16:13,872 - INFO -   Best OOS Sharpe: M13 (2.822, p=0.000)
2025-09-12 19:16:13,872 - INFO -   Best Q-Sharpe:  M62 (2.646, OOS_Sharpe=0.777, OOS_Hit=0.554)
2025-09-12 19:16:13,872 - INFO -   Mean OOS Sharpe: 0.561, Mean Hit: 0.512
2025-09-12 19:16:13,872 - INFO - 
2025-09-12 19:16:13,874 - INFO - Processing Fold 5/7
2025-09-12 19:16:13,888 - INFO -   Using GPU sequential processing
2025-09-12 19:22:02,130 - INFO - Fold 5 Summary:
2025-09-12 19:22:02,131 - INFO -   Best OOS Sharpe: M28 (2.650, p=0.000)
2025-09-12 19:22:02,131 - INFO -   Best Q-Sharpe:  M44 (2.486, OOS_Sharpe=1.650, OOS_Hit=0.543)
2025-09-12 19:22:02,131 - INFO -   Mean OOS Sharpe: 1.013, Mean Hit: 0.522
2025-09-12 19:22:02,131 - INFO - 
2025-09-12 19:22:02,133 - INFO - Processing Fold 6/7
2025-09-12 19:22:02,137 - INFO -   Using GPU sequential processing
2025-09-12 19:27:35,898 - INFO - Fold 6 Summary:
2025-09-12 19:27:35,898 - INFO -   Best OOS Sharpe: M53 (2.256, p=0.030)
2025-09-12 19:27:35,898 - INFO -   Best Q-Sharpe:  M44 (2.375, OOS_Sharpe=1.371, OOS_Hit=0.513)
2025-09-12 19:27:35,898 - INFO -   Mean OOS Sharpe: 0.778, Mean Hit: 0.500
2025-09-12 19:27:35,898 - INFO - 
2025-09-12 19:27:35,901 - INFO - Processing Fold 7/7
2025-09-12 19:27:35,918 - INFO -   Using GPU sequential processing
2025-09-12 19:32:09,734 - INFO - Fold 7 Summary:
2025-09-12 19:32:09,734 - INFO -   Best OOS Sharpe: M54 (2.702, p=0.010)
2025-09-12 19:32:09,734 - INFO -   Best Q-Sharpe:  M44 (2.234, OOS_Sharpe=0.966, OOS_Hit=0.552)
2025-09-12 19:32:09,735 - INFO -   Mean OOS Sharpe: 1.121, Mean Hit: 0.523
2025-09-12 19:32:09,735 - INFO - 
2025-09-12 19:32:09,738 - INFO - Starting full timeline backtesting...
2025-09-12 19:32:09,738 - INFO - Running full timeline backtest with 7 folds (0-based indexing)
2025-09-12 19:32:09,738 - INFO - Fold 0 skipped (no prior Q-score history for meaningful selection)
2025-09-12 19:32:09,738 - INFO - Effective backtest period: Folds 1-6 (6 folds)
2025-09-12 19:32:09,738 - INFO - Training period: Folds 1-4
2025-09-12 19:32:09,738 - INFO - Production period: Folds 5-6
2025-09-12 19:32:09,738 - INFO - Using consistent OOS methodology for all folds
2025-09-12 19:32:09,738 - INFO - Fold 0: Skipped (no prior Q-score history for meaningful selection)
2025-09-12 19:32:09,738 - INFO - 
--- Processing fold 1/6 ---
2025-09-12 19:32:09,764 - INFO - Fold 1: Q-scores from fold 0: ['M00:1.530', 'M01:1.609', 'M02:0.936', 'M03:1.105', 'M04:0.879']...
2025-09-12 19:32:09,764 - INFO - Fold 1: Selected models [44, 62, 22, 91, 55] based on fold 0 Q-scores, avg Q-score: 2.981
2025-09-12 19:32:09,765 - INFO - Fold 1 (Training): Sharpe=2.258, Hit=52.5%
2025-09-12 19:32:09,765 - INFO - 
--- Processing fold 2/6 ---
2025-09-12 19:32:09,789 - INFO - Fold 2: Q-scores from fold 1: ['M00:1.504', 'M01:1.668', 'M02:0.976', 'M03:1.047', 'M04:0.900']...
2025-09-12 19:32:09,789 - INFO - Fold 2: Selected models [44, 62, 22, 55, 91] based on fold 1 Q-scores, avg Q-score: 2.856
2025-09-12 19:32:09,790 - INFO - Fold 2 (Training): Sharpe=2.492, Hit=55.4%
2025-09-12 19:32:09,790 - INFO - 
--- Processing fold 3/6 ---
2025-09-12 19:32:09,810 - INFO - Fold 3: Q-scores from fold 2: ['M00:1.370', 'M01:1.696', 'M02:1.208', 'M03:1.109', 'M04:1.000']...
2025-09-12 19:32:09,810 - INFO - Fold 3: Selected models [44, 62, 91, 22, 55] based on fold 2 Q-scores, avg Q-score: 2.781
2025-09-12 19:32:09,812 - INFO - Fold 3 (Training): Sharpe=0.457, Hit=52.2%
2025-09-12 19:32:09,812 - INFO - 
--- Processing fold 4/6 ---
2025-09-12 19:32:09,831 - INFO - Fold 4: Q-scores from fold 3: ['M00:1.260', 'M01:1.675', 'M02:1.145', 'M03:0.918', 'M04:0.869']...
2025-09-12 19:32:09,831 - INFO - Fold 4: Selected models [62, 91, 44, 22, 64] based on fold 3 Q-scores, avg Q-score: 2.558
2025-09-12 19:32:09,832 - INFO - Fold 4 (Training): Sharpe=0.902, Hit=50.1%
2025-09-12 19:32:09,833 - INFO - 
--- Processing fold 5/6 ---
2025-09-12 19:32:09,855 - INFO - Fold 5: Q-scores from fold 4: ['M00:1.218', 'M01:1.669', 'M02:1.177', 'M03:0.852', 'M04:0.909']...
2025-09-12 19:32:09,855 - INFO - Fold 5: Selected models [44, 62, 7, 64, 91] based on fold 4 Q-scores, avg Q-score: 2.411
2025-09-12 19:32:09,857 - INFO - Fold 5 (Production): Sharpe=1.138, Hit=47.5%
2025-09-12 19:32:09,857 - INFO - 
--- Processing fold 6/6 ---
2025-09-12 19:32:09,877 - INFO - Fold 6: Q-scores from fold 5: ['M00:1.190', 'M01:1.581', 'M02:1.158', 'M03:0.904', 'M04:0.938']...
2025-09-12 19:32:09,877 - INFO - Fold 6: Selected models [44, 7, 62, 64, 16] based on fold 5 Q-scores, avg Q-score: 2.265
2025-09-12 19:32:09,878 - INFO - Fold 6 (Production): Sharpe=1.724, Hit=53.2%
2025-09-12 19:32:09,880 - INFO - Training Period Overall: Sharpe=1.446, Hit=52.6%
2025-09-12 19:32:09,881 - INFO - Production Period Overall: Sharpe=1.429, Hit=50.4%
2025-09-12 19:32:09,882 - INFO - Full Timeline Overall: Sharpe=1.440, Hit=51.8%
2025-09-12 19:32:09,882 - INFO - Training: Sharpe=1.446 | Hit=52.6% | Return=4.89%
2025-09-12 19:32:09,882 - INFO - Production: Sharpe=1.429 | Hit=50.4% | Return=5.12%
2025-09-12 19:32:09,883 - INFO - Full Timeline: Sharpe=1.440 | Hit=51.8% | Return=4.97%
2025-09-12 19:32:09,883 - INFO - Generating visualizations...
2025-09-12 19:32:09,883 - INFO - Creating clean visualizations for 100 models...
2025-09-12 19:32:11,782 - INFO - Clean fold-by-fold analysis saved to: 20250912_185420_fold_@EU#C_100models_8folds_v2_S1.5_EU_tanh.png
2025-09-12 19:32:14,011 - INFO - Detailed production analysis saved to: 20250912_185420_backtest_@EU#C_100models_8folds_v2_S1.5_EU_tanh.png
2025-09-12 19:32:14,011 - INFO - ================================================================================
2025-09-12 19:32:14,011 - INFO - BACKTEST SUMMARY
2025-09-12 19:32:14,011 - INFO - ================================================================================
2025-09-12 19:32:14,011 - INFO - Config: Cutoff=70%, Top N=5, Q-Metric=sharpe, Reselection=1 fold(s)
2025-09-12 19:32:14,011 - INFO - Model Selection History:
2025-09-12 19:32:14,011 - INFO -   Fold 1: M44, M62, M22, M91, M55 (Avg Q-sharpe: 2.981)
2025-09-12 19:32:14,011 - INFO -   Fold 2: M44, M62, M22, M55, M91 (Avg Q-sharpe: 2.856)
2025-09-12 19:32:14,011 - INFO -   Fold 3: M44, M62, M91, M22, M55 (Avg Q-sharpe: 2.781)
2025-09-12 19:32:14,011 - INFO -   Fold 4: M62, M91, M44, M22, M64 (Avg Q-sharpe: 2.558)
2025-09-12 19:32:14,011 - INFO -   Fold 5: M44, M62, M07, M64, M91 (Avg Q-sharpe: 2.411)
2025-09-12 19:32:14,011 - INFO -   Fold 6: M44, M07, M62, M64, M16 (Avg Q-sharpe: 2.265)
2025-09-12 19:32:14,011 - INFO - 
2025-09-12 19:32:14,011 - INFO - Fold-by-Fold Performance:
2025-09-12 19:32:14,011 - INFO -   Fold 1: M44, M62, M22, M91, M55 | Sharpe=2.258 | Hit=52.5% | Samples=341
2025-09-12 19:32:14,011 - INFO -   Fold 2: M44, M62, M22, M55, M91 | Sharpe=2.492 | Hit=55.4% | Samples=341
2025-09-12 19:32:14,011 - INFO -   Fold 3: M44, M62, M91, M22, M55 | Sharpe=0.457 | Hit=52.2% | Samples=341
2025-09-12 19:32:14,011 - INFO -   Fold 4: M62, M91, M44, M22, M64 | Sharpe=0.902 | Hit=50.1% | Samples=341
2025-09-12 19:32:14,011 - INFO -   Fold 5: M44, M62, M07, M64, M91 | Sharpe=1.138 | Hit=47.5% | Samples=341
2025-09-12 19:32:14,012 - INFO -   Fold 6: M44, M07, M62, M64, M16 | Sharpe=1.724 | Hit=53.2% | Samples=348
2025-09-12 19:32:14,012 - INFO - ================================================================================
2025-09-12 19:32:14,012 - INFO - ================================================================================
2025-09-12 19:32:14,012 - INFO - ANALYSIS COMPLETED SUCCESSFULLY!
2025-09-12 19:32:14,012 - INFO - ================================================================================
2025-09-12 19:32:14,012 - INFO - Generated 2 visualization files
2025-09-12 19:32:14,012 - INFO -   - 20250912_185420_fold_@EU#C_100models_8folds_v2_S1.5_EU_tanh.png
2025-09-12 19:32:14,012 - INFO -   - 20250912_185420_backtest_@EU#C_100models_8folds_v2_S1.5_EU_tanh.png
2025-09-12 19:32:14,012 - INFO - Training Final: Sharpe=1.446 | Hit=52.6% | Return=4.89% | CB=1.016
2025-09-12 19:32:14,012 - INFO - Production Final: Sharpe=1.429 | Hit=50.4% | Return=5.12% | CB=1.480
2025-09-12 19:32:14,012 - INFO - Full Timeline Final: Sharpe=1.440 | Hit=51.8% | Return=4.97% | CB=1.032
