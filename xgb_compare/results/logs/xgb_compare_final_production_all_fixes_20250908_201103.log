2025-09-08 20:11:03,986 - INFO - ================================================================================
2025-09-08 20:11:03,987 - INFO - XGBoost Comparison Framework
2025-09-08 20:11:03,987 - INFO - ================================================================================
2025-09-08 20:11:03,987 - INFO - Configuration:
2025-09-08 20:11:03,988 - INFO -   Target Symbol: @ES#C
2025-09-08 20:11:03,988 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-08 20:11:03,988 - INFO -   Models: 50, Type: standard
2025-09-08 20:11:03,988 - INFO -   Folds: 10
2025-09-08 20:11:03,988 - INFO -   Max Features: -1 (All after cluster reduction)
2025-09-08 20:11:03,988 - INFO -   Feature Selection: Enabled
2025-09-08 20:11:03,988 - INFO -   Inner Val Fraction: 0.2
2025-09-08 20:11:03,988 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-08 20:11:03,988 - INFO -   Signal Type: Tanh Normalized
2025-09-08 20:11:03,988 - INFO -   Production: Cutoff=0.7, Top N=5, Q-Metric=sharpe
2025-09-08 20:11:03,988 - INFO -   Reselection: Every 1 fold(s)
2025-09-08 20:11:03,988 - INFO - 
2025-09-08 20:11:07,097 - INFO - Loaded: X=(2733, 1054), y=(2733,)
2025-09-08 20:11:17,743 - INFO - Selected 400 features (threshold: 0.7)
2025-09-08 20:11:17,753 - INFO - Selected: 400 features
2025-09-08 20:11:19,932 - INFO - GPU detection: CUDA GPU available
2025-09-08 20:11:19,933 - INFO - Starting analysis: 50 standard models x 9 folds
2025-09-08 20:11:19,933 - INFO - Processing Fold 1/10
2025-09-08 20:11:41,480 - INFO - Fold 1 Summary:
2025-09-08 20:11:41,480 - INFO -   Best OOS Sharpe: M42 (2.454, p=0.000)
2025-09-08 20:11:41,481 - INFO -   Best Q-Sharpe:   M00 (0.000, OOS=0.162)
2025-09-08 20:11:41,481 - INFO -   Mean OOS Sharpe: 0.469
2025-09-08 20:11:41,481 - INFO - 
2025-09-08 20:11:41,482 - INFO - Processing Fold 2/10
2025-09-08 20:12:09,479 - INFO - Fold 2 Summary:
2025-09-08 20:12:09,479 - INFO -   Best OOS Sharpe: M17 (2.310, p=0.020)
2025-09-08 20:12:09,479 - INFO -   Best Q-Sharpe:   M42 (2.454, OOS=1.175)
2025-09-08 20:12:09,479 - INFO -   Mean OOS Sharpe: 0.448
2025-09-08 20:12:09,479 - INFO - 
2025-09-08 20:12:09,482 - INFO - Processing Fold 3/10
2025-09-08 20:12:40,847 - INFO - Fold 3 Summary:
2025-09-08 20:12:40,848 - INFO -   Best OOS Sharpe: M07 (2.181, p=0.010)
2025-09-08 20:12:40,848 - INFO -   Best Q-Sharpe:   M42 (2.326, OOS=-0.419)
2025-09-08 20:12:40,848 - INFO -   Mean OOS Sharpe: 0.724
2025-09-08 20:12:40,848 - INFO - 
2025-09-08 20:12:40,851 - INFO - Processing Fold 4/10
2025-09-08 20:13:16,786 - INFO - Fold 4 Summary:
2025-09-08 20:13:16,786 - INFO -   Best OOS Sharpe: M12 (0.612, p=0.490)
2025-09-08 20:13:16,786 - INFO -   Best Q-Sharpe:   M42 (2.052, OOS=-2.065)
2025-09-08 20:13:16,786 - INFO -   Mean OOS Sharpe: -0.693
2025-09-08 20:13:16,786 - INFO - 
2025-09-08 20:13:16,788 - INFO - Processing Fold 5/10
2025-09-08 20:13:53,243 - INFO - Fold 5 Summary:
2025-09-08 20:13:53,243 - INFO -   Best OOS Sharpe: M01 (1.524, p=0.150)
2025-09-08 20:13:53,243 - INFO -   Best Q-Sharpe:   M42 (1.640, OOS=1.063)
2025-09-08 20:13:53,243 - INFO -   Mean OOS Sharpe: 0.325
2025-09-08 20:13:53,243 - INFO - 
2025-09-08 20:13:53,246 - INFO - Processing Fold 6/10
2025-09-08 20:14:22,818 - INFO - Fold 6 Summary:
2025-09-08 20:14:22,818 - INFO -   Best OOS Sharpe: M33 (1.673, p=0.070)
2025-09-08 20:14:22,818 - INFO -   Best Q-Sharpe:   M42 (1.582, OOS=0.217)
2025-09-08 20:14:22,818 - INFO -   Mean OOS Sharpe: 0.558
2025-09-08 20:14:22,818 - INFO - 
2025-09-08 20:14:22,823 - INFO - Processing Fold 7/10
2025-09-08 20:14:57,003 - INFO - Fold 7 Summary:
2025-09-08 20:14:57,003 - INFO -   Best OOS Sharpe: M42 (1.327, p=0.250)
2025-09-08 20:14:57,003 - INFO -   Best Q-Sharpe:   M42 (1.446, OOS=1.327)
2025-09-08 20:14:57,003 - INFO -   Mean OOS Sharpe: -0.242
2025-09-08 20:14:57,003 - INFO - 
2025-09-08 20:14:57,008 - INFO - Processing Fold 8/10
2025-09-08 20:15:45,262 - INFO - Fold 8 Summary:
2025-09-08 20:15:45,262 - INFO -   Best OOS Sharpe: M30 (2.081, p=0.020)
2025-09-08 20:15:45,262 - INFO -   Best Q-Sharpe:   M42 (1.434, OOS=0.501)
2025-09-08 20:15:45,262 - INFO -   Mean OOS Sharpe: 0.087
2025-09-08 20:15:45,262 - INFO - 
2025-09-08 20:15:45,268 - INFO - Processing Fold 9/10
2025-09-08 20:16:38,279 - INFO - Fold 9 Summary:
2025-09-08 20:16:38,279 - INFO -   Best OOS Sharpe: M29 (1.732, p=0.060)
2025-09-08 20:16:38,279 - INFO -   Best Q-Sharpe:   M42 (1.341, OOS=-0.193)
2025-09-08 20:16:38,279 - INFO -   Mean OOS Sharpe: 0.278
2025-09-08 20:16:38,279 - INFO - 
2025-09-08 20:16:38,285 - INFO - Starting full timeline backtesting...
2025-09-08 20:16:38,286 - INFO - Running full timeline backtest with 9 folds (starting from fold 2)
2025-09-08 20:16:38,286 - INFO - Fold 1 skipped (no Q-score history for meaningful selection)
2025-09-08 20:16:38,286 - INFO - Effective backtest period: Folds 2-9 (8 folds)
2025-09-08 20:16:38,286 - INFO - Training period: Folds 2-6
2025-09-08 20:16:38,286 - INFO - Production period: Folds 7-9
2025-09-08 20:16:38,286 - INFO - Using same OOS methodology for both periods
2025-09-08 20:16:38,286 - INFO - Fold 1: Skipped (no Q-score history for meaningful selection)
2025-09-08 20:16:38,286 - INFO - Processing fold 2/9
2025-09-08 20:16:38,286 - INFO - Fold 2: First meaningful selection from fold 0, models [0, 1, 2, 3, 4], avg Q-score: 0.000
2025-09-08 20:16:40,681 - INFO - Fold 2 (Training): Sharpe=0.681, Hit=50.9%
2025-09-08 20:16:40,681 - INFO - Processing fold 3/9
2025-09-08 20:16:40,702 - INFO - Fold 3: Selected from fold 1, models [42, 11, 27, 33, 21], avg Q-score: 1.087
2025-09-08 20:16:43,360 - INFO - Fold 3 (Training): Sharpe=1.109, Hit=52.0%
2025-09-08 20:16:43,360 - INFO - Processing fold 4/9
2025-09-08 20:16:43,378 - INFO - Fold 4: Selected from fold 2, models [42, 11, 27, 33, 21], avg Q-score: 1.087
2025-09-08 20:16:46,461 - INFO - Fold 4 (Training): Sharpe=-1.113, Hit=44.7%
2025-09-08 20:16:46,461 - INFO - Processing fold 5/9
2025-09-08 20:16:46,481 - INFO - Fold 5: Selected from fold 3, models [42, 11, 27, 33, 21], avg Q-score: 1.087
2025-09-08 20:16:49,849 - INFO - Fold 5 (Training): Sharpe=0.772, Hit=55.7%
2025-09-08 20:16:49,850 - INFO - Processing fold 6/9
2025-09-08 20:16:49,870 - INFO - Fold 6: Selected from fold 4, models [42, 11, 27, 33, 21], avg Q-score: 1.087
2025-09-08 20:16:53,453 - INFO - Fold 6 (Training): Sharpe=1.330, Hit=51.3%
2025-09-08 20:16:53,453 - INFO - Processing fold 7/9
2025-09-08 20:16:53,476 - INFO - Fold 7: Selected from fold 5, models [42, 11, 27, 33, 21], avg Q-score: 1.087
2025-09-08 20:16:57,259 - INFO - Fold 7 (Production): Sharpe=0.919, Hit=55.7%
2025-09-08 20:16:57,260 - INFO - Processing fold 8/9
2025-09-08 20:16:57,281 - INFO - Fold 8: Selected from fold 6, models [42, 11, 27, 33, 21], avg Q-score: 1.087
2025-09-08 20:17:01,305 - INFO - Fold 8 (Production): Sharpe=0.069, Hit=50.2%
2025-09-08 20:17:01,305 - INFO - Processing fold 9/9
2025-09-08 20:17:01,327 - INFO - Fold 9: Selected from fold 7, models [42, 11, 27, 33, 21], avg Q-score: 1.087
2025-09-08 20:17:05,594 - INFO - Fold 9 (Production): Sharpe=0.568, Hit=49.6%
2025-09-08 20:17:05,597 - INFO - Training Period Overall: Sharpe=0.427, Hit=56.5%
2025-09-08 20:17:05,599 - INFO - Production Period Overall: Sharpe=0.911, Hit=53.8%
2025-09-08 20:17:05,600 - INFO - Full Timeline Overall: Sharpe=0.557, Hit=55.5%
2025-09-08 20:17:05,600 - INFO - Training: Sharpe=0.427 | Hit=56.5% | Return=2.52%
2025-09-08 20:17:05,600 - INFO - Production: Sharpe=0.911 | Hit=53.8% | Return=3.60%
2025-09-08 20:17:05,600 - INFO - Full Timeline: Sharpe=0.557 | Hit=55.5% | Return=2.93%
2025-09-08 20:17:05,601 - INFO - Generating visualizations...
2025-09-08 20:17:05,601 - INFO - Creating clean visualizations for 50 models...
2025-09-08 20:17:13,718 - INFO - Clean fold-by-fold analysis saved to: fold_by_fold_clean_@ES#C_20250908_201705.png
2025-09-08 20:17:13,996 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-09-08 20:17:13,996 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-09-08 20:17:14,154 - INFO - Using actual training period PnL (1365 days)
2025-09-08 20:17:15,455 - INFO - Detailed production analysis saved to: detailed_production_@ES#C_20250908_201705.png
2025-09-08 20:17:15,456 - INFO - ====================================================================================================
2025-09-08 20:17:15,456 - INFO - DETAILED PRODUCTION BACKTEST SUMMARY
2025-09-08 20:17:15,456 - INFO - ====================================================================================================
2025-09-08 20:17:15,456 - INFO - Configuration:
2025-09-08 20:17:15,456 - INFO -   - Cutoff Fraction: 70%
2025-09-08 20:17:15,456 - INFO -   - Top N Models: 5
2025-09-08 20:17:15,456 - INFO -   - Q-Metric: sharpe
2025-09-08 20:17:15,456 - INFO -   - Reselection Frequency: 1 folds
2025-09-08 20:17:15,456 - INFO - 
2025-09-08 20:17:15,456 - INFO - Model Selection History:
2025-09-08 20:17:15,456 - INFO -   Fold 2: M00, M01, M02, M03, M04 (Avg Q-sharpe: 0.000)
2025-09-08 20:17:15,456 - INFO -   Fold 3: M42, M11, M27, M33, M21 (Avg Q-sharpe: 1.087)
2025-09-08 20:17:15,456 - INFO -   Fold 4: M42, M11, M27, M33, M21 (Avg Q-sharpe: 1.087)
2025-09-08 20:17:15,456 - INFO -   Fold 5: M42, M11, M27, M33, M21 (Avg Q-sharpe: 1.087)
2025-09-08 20:17:15,456 - INFO -   Fold 6: M42, M11, M27, M33, M21 (Avg Q-sharpe: 1.087)
2025-09-08 20:17:15,456 - INFO -   Fold 7: M42, M11, M27, M33, M21 (Avg Q-sharpe: 1.087)
2025-09-08 20:17:15,456 - INFO -   Fold 8: M42, M11, M27, M33, M21 (Avg Q-sharpe: 1.087)
2025-09-08 20:17:15,456 - INFO -   Fold 9: M42, M11, M27, M33, M21 (Avg Q-sharpe: 1.087)
2025-09-08 20:17:15,456 - INFO - 
2025-09-08 20:17:15,456 - INFO - Fold-by-Fold Performance:
2025-09-08 20:17:15,456 - INFO -   Fold 2: M00, M01, M02, M03, M04 | Sharpe=0.681 | Hit=50.9% | Samples=273
2025-09-08 20:17:15,456 - INFO -   Fold 3: M42, M11, M27, M33, M21 | Sharpe=1.109 | Hit=52.0% | Samples=273
2025-09-08 20:17:15,456 - INFO -   Fold 4: M42, M11, M27, M33, M21 | Sharpe=-1.113 | Hit=44.7% | Samples=273
2025-09-08 20:17:15,456 - INFO -   Fold 5: M42, M11, M27, M33, M21 | Sharpe=0.772 | Hit=55.7% | Samples=273
2025-09-08 20:17:15,456 - INFO -   Fold 6: M42, M11, M27, M33, M21 | Sharpe=1.330 | Hit=51.3% | Samples=273
2025-09-08 20:17:15,456 - INFO -   Fold 7: M42, M11, M27, M33, M21 | Sharpe=0.919 | Hit=55.7% | Samples=273
2025-09-08 20:17:15,456 - INFO -   Fold 8: M42, M11, M27, M33, M21 | Sharpe=0.069 | Hit=50.2% | Samples=273
2025-09-08 20:17:15,456 - INFO -   Fold 9: M42, M11, M27, M33, M21 | Sharpe=0.568 | Hit=49.6% | Samples=276
2025-09-08 20:17:15,456 - INFO - ====================================================================================================
2025-09-08 20:17:15,456 - INFO - ================================================================================
2025-09-08 20:17:15,456 - INFO - ANALYSIS COMPLETED SUCCESSFULLY!
2025-09-08 20:17:15,456 - INFO - ================================================================================
2025-09-08 20:17:15,456 - INFO - Generated 2 visualization files
2025-09-08 20:17:15,456 - INFO -   - fold_by_fold_clean_@ES#C_20250908_201705.png
2025-09-08 20:17:15,456 - INFO -   - detailed_production_@ES#C_20250908_201705.png
2025-09-08 20:17:15,456 - INFO - 
Final Results: Sharpe=0.557 | Hit=55.5% | Return=2.93%
