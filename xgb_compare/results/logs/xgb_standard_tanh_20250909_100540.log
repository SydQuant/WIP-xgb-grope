2025-09-09 10:05:40,448 - INFO - ================================================================================
2025-09-09 10:05:40,448 - INFO - XGBoost Comparison Framework
2025-09-09 10:05:40,448 - INFO - ================================================================================
2025-09-09 10:05:40,448 - INFO - Configuration:
2025-09-09 10:05:40,448 - INFO -   Target Symbol: @ES#C
2025-09-09 10:05:40,448 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-09 10:05:40,448 - INFO -   Models: 100, Type: standard
2025-09-09 10:05:40,449 - INFO -   Folds: 15
2025-09-09 10:05:40,449 - INFO -   Max Features: -1 (All after cluster reduction)
2025-09-09 10:05:40,449 - INFO -   Feature Selection: Enabled
2025-09-09 10:05:40,449 - INFO -   Inner Val Fraction: 0.2
2025-09-09 10:05:40,449 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-09 10:05:40,449 - INFO -   Signal Type: Tanh Normalized
2025-09-09 10:05:40,449 - INFO -   Production: Cutoff=0.6, Top N=10, Q-Metric=sharpe
2025-09-09 10:05:40,449 - INFO -   Reselection: Every 1 fold(s)
2025-09-09 10:05:40,449 - INFO - 
2025-09-09 10:05:43,086 - INFO - Loaded: (2733, 1054)
2025-09-09 10:05:49,652 - INFO - Selected 401 features (threshold: 0.7)
2025-09-09 10:05:49,659 - INFO - Features: 401
2025-09-09 10:05:49,971 - INFO - GPU detection: CUDA GPU available
2025-09-09 10:05:49,973 - INFO - ============================================================
2025-09-09 10:05:49,973 - INFO - Starting Cross-Validation: 100 standard models x 13 folds
2025-09-09 10:05:49,973 - INFO - Multiprocessing: Enabled
2025-09-09 10:05:49,973 - INFO - ============================================================
2025-09-09 10:05:49,973 - INFO - 
Processing Fold 1/15
2025-09-09 10:05:50,087 - INFO -   Train: 364, Val: 73, Test: 182 samples
2025-09-09 10:05:50,088 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:06:41,882 - INFO -   Best OOS: M83 (Sharpe=1.431, p=0.240)
2025-09-09 10:06:41,882 - INFO -   Best Q:   M00 (Q=0.000)
2025-09-09 10:06:41,882 - INFO -   Mean OOS Sharpe: -1.047

2025-09-09 10:06:41,884 - INFO - 
Processing Fold 2/15
2025-09-09 10:06:41,929 - INFO -   Train: 546, Val: 110, Test: 182 samples
2025-09-09 10:06:41,929 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:07:43,089 - INFO -   Best OOS: M22 (Sharpe=2.559, p=0.030)
2025-09-09 10:07:43,089 - INFO -   Best Q:   M83 (Q=1.431)
2025-09-09 10:07:43,089 - INFO -   Mean OOS Sharpe: 0.497

2025-09-09 10:07:43,091 - INFO - 
Processing Fold 3/15
2025-09-09 10:07:43,170 - INFO -   Train: 728, Val: 146, Test: 182 samples
2025-09-09 10:07:43,170 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:08:46,121 - INFO -   Best OOS: M34 (Sharpe=1.824, p=0.080)
2025-09-09 10:08:46,122 - INFO -   Best Q:   M83 (Q=1.318)
2025-09-09 10:08:46,122 - INFO -   Mean OOS Sharpe: -0.256

2025-09-09 10:08:46,124 - INFO - 
Processing Fold 4/15
2025-09-09 10:08:46,164 - INFO -   Train: 910, Val: 182, Test: 182 samples
2025-09-09 10:08:46,164 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:09:49,089 - INFO -   Best OOS: M17 (Sharpe=2.880, p=0.050)
2025-09-09 10:09:49,089 - INFO -   Best Q:   M83 (Q=1.236)
2025-09-09 10:09:49,089 - INFO -   Mean OOS Sharpe: 0.654

2025-09-09 10:09:49,092 - INFO - 
Processing Fold 5/15
2025-09-09 10:09:49,145 - INFO -   Train: 1092, Val: 219, Test: 182 samples
2025-09-09 10:09:49,145 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:10:54,040 - INFO -   Best OOS: M61 (Sharpe=2.153, p=0.090)
2025-09-09 10:10:54,040 - INFO -   Best Q:   M83 (Q=1.118)
2025-09-09 10:10:54,040 - INFO -   Mean OOS Sharpe: 0.286

2025-09-09 10:10:54,044 - INFO - 
Processing Fold 6/15
2025-09-09 10:10:54,086 - INFO -   Train: 1274, Val: 255, Test: 182 samples
2025-09-09 10:10:54,086 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:11:57,964 - INFO -   Best OOS: M59 (Sharpe=1.762, p=0.140)
2025-09-09 10:11:57,965 - INFO -   Best Q:   M15 (Q=1.019)
2025-09-09 10:11:57,965 - INFO -   Mean OOS Sharpe: -0.403

2025-09-09 10:11:57,968 - INFO - 
Processing Fold 7/15
2025-09-09 10:11:58,019 - INFO -   Train: 1456, Val: 292, Test: 182 samples
2025-09-09 10:11:58,020 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:13:06,674 - INFO -   Best OOS: M57 (Sharpe=1.622, p=0.210)
2025-09-09 10:13:06,674 - INFO -   Best Q:   M15 (Q=0.948)
2025-09-09 10:13:06,674 - INFO -   Mean OOS Sharpe: 0.061

2025-09-09 10:13:06,677 - INFO - 
Processing Fold 8/15
2025-09-09 10:13:06,739 - INFO -   Train: 1638, Val: 328, Test: 182 samples
2025-09-09 10:13:06,739 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:14:13,977 - INFO -   Best OOS: M07 (Sharpe=3.726, p=0.000)
2025-09-09 10:14:13,977 - INFO -   Best Q:   M83 (Q=0.768)
2025-09-09 10:14:13,977 - INFO -   Mean OOS Sharpe: 1.046

2025-09-09 10:14:13,981 - INFO - 
Processing Fold 9/15
2025-09-09 10:14:14,038 - INFO -   Train: 1820, Val: 364, Test: 182 samples
2025-09-09 10:14:14,038 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:15:19,857 - INFO -   Best OOS: M04 (Sharpe=3.035, p=0.010)
2025-09-09 10:15:19,858 - INFO -   Best Q:   M83 (Q=0.874)
2025-09-09 10:15:19,858 - INFO -   Mean OOS Sharpe: 0.759

2025-09-09 10:15:19,861 - INFO - 
Processing Fold 10/15
2025-09-09 10:15:19,915 - INFO -   Train: 2002, Val: 401, Test: 182 samples
2025-09-09 10:15:19,916 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:16:25,749 - INFO -   Best OOS: M02 (Sharpe=3.309, p=0.010)
2025-09-09 10:16:25,749 - INFO -   Best Q:   M83 (Q=0.892)
2025-09-09 10:16:25,749 - INFO -   Mean OOS Sharpe: 0.728

2025-09-09 10:16:25,753 - INFO - 
Processing Fold 11/15
2025-09-09 10:16:25,787 - INFO -   Train: 2184, Val: 437, Test: 182 samples
2025-09-09 10:16:25,787 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:17:40,002 - INFO -   Best OOS: M92 (Sharpe=1.468, p=0.210)
2025-09-09 10:17:40,002 - INFO -   Best Q:   M83 (Q=0.898)
2025-09-09 10:17:40,002 - INFO -   Mean OOS Sharpe: -0.056

2025-09-09 10:17:40,007 - INFO - 
Processing Fold 12/15
2025-09-09 10:17:40,040 - INFO -   Train: 2366, Val: 474, Test: 182 samples
2025-09-09 10:17:40,041 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:18:47,174 - INFO -   Best OOS: M73 (Sharpe=2.454, p=0.020)
2025-09-09 10:18:47,174 - INFO -   Best Q:   M83 (Q=0.745)
2025-09-09 10:18:47,174 - INFO -   Mean OOS Sharpe: 0.415

2025-09-09 10:18:47,179 - INFO - 
Processing Fold 13/15
2025-09-09 10:18:47,214 - INFO -   Train: 2548, Val: 510, Test: 185 samples
2025-09-09 10:18:47,214 - INFO -   GPU mode - Sequential processing (100 models)
2025-09-09 10:19:57,088 - INFO -   Best OOS: M80 (Sharpe=2.801, p=0.010)
2025-09-09 10:19:57,088 - INFO -   Best Q:   M76 (Q=0.825)
2025-09-09 10:19:57,088 - INFO -   Mean OOS Sharpe: -0.037

2025-09-09 10:19:57,094 - INFO - 
============================================================
2025-09-09 10:19:57,094 - INFO - Starting Production Backtesting...
2025-09-09 10:19:57,094 - INFO - ============================================================
2025-09-09 10:19:57,094 - INFO - Running full timeline backtest with 13 folds (starting from fold 2)
2025-09-09 10:19:57,094 - INFO - Fold 1 skipped (no Q-score history for meaningful selection)
2025-09-09 10:19:57,094 - INFO - Effective backtest period: Folds 2-13 (12 folds)
2025-09-09 10:19:57,094 - INFO - Training period: Folds 2-8
2025-09-09 10:19:57,094 - INFO - Production period: Folds 9-13
2025-09-09 10:19:57,094 - INFO - Using same OOS methodology for both periods
2025-09-09 10:19:57,094 - INFO - Fold 1: Skipped (no Q-score history for meaningful selection)
2025-09-09 10:19:57,094 - INFO - Processing fold 2/13
2025-09-09 10:19:57,094 - INFO - Fold 2: First meaningful selection from fold 0, models [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], avg Q-score: 0.000
2025-09-09 10:20:00,744 - INFO - Fold 2 (Training): Sharpe=0.046, Hit=49.5%
2025-09-09 10:20:00,744 - INFO - Processing fold 3/13
2025-09-09 10:20:00,768 - INFO - Fold 3: Selected from fold 1, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:20:05,030 - INFO - Fold 3 (Training): Sharpe=0.180, Hit=54.9%
2025-09-09 10:20:05,030 - INFO - Processing fold 4/13
2025-09-09 10:20:05,055 - INFO - Fold 4: Selected from fold 2, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:20:09,953 - INFO - Fold 4 (Training): Sharpe=0.727, Hit=47.8%
2025-09-09 10:20:09,953 - INFO - Processing fold 5/13
2025-09-09 10:20:09,979 - INFO - Fold 5: Selected from fold 3, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:20:15,277 - INFO - Fold 5 (Training): Sharpe=0.602, Hit=51.1%
2025-09-09 10:20:15,277 - INFO - Processing fold 6/13
2025-09-09 10:20:15,302 - INFO - Fold 6: Selected from fold 4, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:20:20,782 - INFO - Fold 6 (Training): Sharpe=-0.462, Hit=44.0%
2025-09-09 10:20:20,783 - INFO - Processing fold 7/13
2025-09-09 10:20:20,811 - INFO - Fold 7: Selected from fold 5, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:20:26,608 - INFO - Fold 7 (Training): Sharpe=0.336, Hit=52.2%
2025-09-09 10:20:26,608 - INFO - Processing fold 8/13
2025-09-09 10:20:26,634 - INFO - Fold 8: Selected from fold 6, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:20:32,726 - INFO - Fold 8 (Training): Sharpe=0.905, Hit=56.0%
2025-09-09 10:20:32,726 - INFO - Processing fold 9/13
2025-09-09 10:20:32,752 - INFO - Fold 9: Selected from fold 7, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:20:39,420 - INFO - Fold 9 (Production): Sharpe=1.597, Hit=51.6%
2025-09-09 10:20:39,421 - INFO - Processing fold 10/13
2025-09-09 10:20:39,447 - INFO - Fold 10: Selected from fold 8, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:20:46,495 - INFO - Fold 10 (Production): Sharpe=1.559, Hit=51.1%
2025-09-09 10:20:46,495 - INFO - Processing fold 11/13
2025-09-09 10:20:46,522 - INFO - Fold 11: Selected from fold 9, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:20:54,908 - INFO - Fold 11 (Production): Sharpe=0.695, Hit=47.8%
2025-09-09 10:20:54,909 - INFO - Processing fold 12/13
2025-09-09 10:20:54,938 - INFO - Fold 12: Selected from fold 10, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:21:03,171 - INFO - Fold 12 (Production): Sharpe=1.749, Hit=55.5%
2025-09-09 10:21:03,171 - INFO - Processing fold 13/13
2025-09-09 10:21:03,199 - INFO - Fold 13: Selected from fold 11, models [76, 83, 15, 27, 16, 22, 38, 92, 8, 42], avg Q-score: 0.552
2025-09-09 10:21:11,737 - INFO - Fold 13 (Production): Sharpe=-0.203, Hit=47.0%
2025-09-09 10:21:11,740 - INFO - Training Period Overall: Sharpe=0.901, Hit=57.2%
2025-09-09 10:21:11,742 - INFO - Production Period Overall: Sharpe=0.623, Hit=53.1%
2025-09-09 10:21:11,744 - INFO - Full Timeline Overall: Sharpe=0.794, Hit=55.5%
2025-09-09 10:21:11,744 - INFO - 
Backtest Results:
2025-09-09 10:21:11,744 - INFO -   Training    : Sharpe=0.901 | Hit=57.2% | Return=4.28%
2025-09-09 10:21:11,744 - INFO -   Production  : Sharpe=0.623 | Hit=53.1% | Return=2.44%
2025-09-09 10:21:11,744 - INFO -   Full Timeline: Sharpe=0.794 | Hit=55.5% | Return=3.51%
2025-09-09 10:21:11,745 - INFO - 
Generating visualizations...
2025-09-09 10:21:11,745 - INFO - Creating visualizations (100 models)...
2025-09-09 10:21:24,351 - INFO - Fold-by-fold analysis saved to: fold_@ES#C_100models_15folds_standard_tanh_standard_tanh_20250909_102111.png
