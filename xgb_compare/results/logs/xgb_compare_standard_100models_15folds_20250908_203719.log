2025-09-08 20:37:19,155 - INFO - ================================================================================
2025-09-08 20:37:19,155 - INFO - XGBoost Comparison Framework
2025-09-08 20:37:19,155 - INFO - ================================================================================
2025-09-08 20:37:19,155 - INFO - Configuration:
2025-09-08 20:37:19,155 - INFO -   Target Symbol: @ES#C
2025-09-08 20:37:19,155 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-08 20:37:19,155 - INFO -   Models: 100, Type: standard
2025-09-08 20:37:19,155 - INFO -   Folds: 15
2025-09-08 20:37:19,155 - INFO -   Max Features: -1 (All after cluster reduction)
2025-09-08 20:37:19,155 - INFO -   Feature Selection: Enabled
2025-09-08 20:37:19,155 - INFO -   Inner Val Fraction: 0.2
2025-09-08 20:37:19,155 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-08 20:37:19,155 - INFO -   Signal Type: Tanh Normalized
2025-09-08 20:37:19,155 - INFO -   Production: Cutoff=0.7, Top N=5, Q-Metric=sharpe
2025-09-08 20:37:19,155 - INFO -   Reselection: Every 1 fold(s)
2025-09-08 20:37:19,155 - INFO - 
2025-09-08 20:37:22,366 - INFO - Loaded: X=(2733, 1054), y=(2733,)
2025-09-08 20:37:32,957 - INFO - Selected 400 features (threshold: 0.7)
2025-09-08 20:37:32,968 - INFO - Selected: 400 features
2025-09-08 20:37:34,391 - INFO - GPU detection: CUDA GPU available
2025-09-08 20:37:34,394 - INFO - Starting analysis: 100 standard models x 13 folds
2025-09-08 20:37:34,394 - INFO - Processing Fold 1/15
2025-09-08 20:38:21,018 - INFO - Fold 1 Summary:
2025-09-08 20:38:21,018 - INFO -   Best OOS Sharpe: M12 (1.274, p=0.300)
2025-09-08 20:38:21,018 - INFO -   Best Q-Sharpe:   M00 (0.000, OOS=0.144)
2025-09-08 20:38:21,018 - INFO -   Mean OOS Sharpe: -0.973
2025-09-08 20:38:21,019 - INFO - 
2025-09-08 20:38:21,019 - INFO - Processing Fold 2/15
2025-09-08 20:39:01,176 - INFO - Fold 2 Summary:
2025-09-08 20:39:01,176 - INFO -   Best OOS Sharpe: M01 (2.286, p=0.060)
2025-09-08 20:39:01,176 - INFO -   Best Q-Sharpe:   M12 (1.274, OOS=-0.005)
2025-09-08 20:39:01,176 - INFO -   Mean OOS Sharpe: 0.389
2025-09-08 20:39:01,176 - INFO - 
2025-09-08 20:39:01,178 - INFO - Processing Fold 3/15
2025-09-08 20:39:44,610 - INFO - Fold 3 Summary:
2025-09-08 20:39:44,610 - INFO -   Best OOS Sharpe: M79 (1.628, p=0.230)
2025-09-08 20:39:44,610 - INFO -   Best Q-Sharpe:   M12 (1.146, OOS=-2.549)
2025-09-08 20:39:44,610 - INFO -   Mean OOS Sharpe: -0.356
2025-09-08 20:39:44,610 - INFO - 
2025-09-08 20:39:44,612 - INFO - Processing Fold 4/15
2025-09-08 20:40:30,572 - INFO - Fold 4 Summary:
2025-09-08 20:40:30,572 - INFO -   Best OOS Sharpe: M39 (3.015, p=0.010)
2025-09-08 20:40:30,572 - INFO -   Best Q-Sharpe:   M30 (0.891, OOS=1.059)
2025-09-08 20:40:30,572 - INFO -   Mean OOS Sharpe: 0.595
2025-09-08 20:40:30,572 - INFO - 
2025-09-08 20:40:30,575 - INFO - Processing Fold 5/15
2025-09-08 20:41:34,075 - INFO - Fold 5 Summary:
2025-09-08 20:41:34,075 - INFO -   Best OOS Sharpe: M38 (3.027, p=0.000)
2025-09-08 20:41:34,075 - INFO -   Best Q-Sharpe:   M30 (0.907, OOS=0.347)
2025-09-08 20:41:34,075 - INFO -   Mean OOS Sharpe: 0.076
2025-09-08 20:41:34,075 - INFO - 
2025-09-08 20:41:34,076 - INFO - Processing Fold 6/15
2025-09-08 20:43:15,249 - INFO - Fold 6 Summary:
2025-09-08 20:43:15,249 - INFO -   Best OOS Sharpe: M77 (1.471, p=0.190)
2025-09-08 20:43:15,249 - INFO -   Best Q-Sharpe:   M30 (0.851, OOS=-0.797)
2025-09-08 20:43:15,249 - INFO -   Mean OOS Sharpe: -0.416
2025-09-08 20:43:15,249 - INFO - 
2025-09-08 20:43:15,253 - INFO - Processing Fold 7/15
2025-09-08 20:44:55,499 - INFO - Fold 7 Summary:
2025-09-08 20:44:55,499 - INFO -   Best OOS Sharpe: M67 (2.219, p=0.060)
2025-09-08 20:44:55,499 - INFO -   Best Q-Sharpe:   M30 (0.687, OOS=-0.743)
2025-09-08 20:44:55,499 - INFO -   Mean OOS Sharpe: 0.062
2025-09-08 20:44:55,499 - INFO - 
2025-09-08 20:44:55,502 - INFO - Processing Fold 8/15
2025-09-08 20:46:50,570 - INFO - Fold 8 Summary:
2025-09-08 20:46:50,570 - INFO -   Best OOS Sharpe: M73 (3.942, p=0.000)
2025-09-08 20:46:50,570 - INFO -   Best Q-Sharpe:   M67 (0.755, OOS=1.741)
2025-09-08 20:46:50,570 - INFO -   Mean OOS Sharpe: 1.073
2025-09-08 20:46:50,570 - INFO - 
2025-09-08 20:46:50,573 - INFO - Processing Fold 9/15
2025-09-08 20:48:41,475 - INFO - Fold 9 Summary:
2025-09-08 20:48:41,475 - INFO -   Best OOS Sharpe: M73 (2.357, p=0.070)
2025-09-08 20:48:41,475 - INFO -   Best Q-Sharpe:   M67 (0.854, OOS=-1.947)
2025-09-08 20:48:41,475 - INFO -   Mean OOS Sharpe: 0.788
2025-09-08 20:48:41,475 - INFO - 
2025-09-08 20:48:41,478 - INFO - Processing Fold 10/15
2025-09-08 20:50:17,100 - INFO - Fold 10 Summary:
2025-09-08 20:50:17,100 - INFO -   Best OOS Sharpe: M09 (3.070, p=0.010)
2025-09-08 20:50:17,100 - INFO -   Best Q-Sharpe:   M30 (0.641, OOS=0.309)
2025-09-08 20:50:17,100 - INFO -   Mean OOS Sharpe: 0.688
2025-09-08 20:50:17,100 - INFO - 
2025-09-08 20:50:17,105 - INFO - Processing Fold 11/15
2025-09-08 20:51:55,810 - INFO - Fold 11 Summary:
2025-09-08 20:51:55,810 - INFO -   Best OOS Sharpe: M30 (3.183, p=0.000)
2025-09-08 20:51:55,810 - INFO -   Best Q-Sharpe:   M30 (0.608, OOS=3.183)
2025-09-08 20:51:55,810 - INFO -   Mean OOS Sharpe: 0.144
2025-09-08 20:51:55,810 - INFO - 
2025-09-08 20:51:55,816 - INFO - Processing Fold 12/15
2025-09-08 20:53:46,390 - INFO - Fold 12 Summary:
2025-09-08 20:53:46,391 - INFO -   Best OOS Sharpe: M99 (3.423, p=0.000)
2025-09-08 20:53:46,391 - INFO -   Best Q-Sharpe:   M30 (0.865, OOS=0.743)
2025-09-08 20:53:46,391 - INFO -   Mean OOS Sharpe: 0.133
2025-09-08 20:53:46,391 - INFO - 
2025-09-08 20:53:46,396 - INFO - Processing Fold 13/15
2025-09-08 20:55:36,390 - INFO - Fold 13 Summary:
2025-09-08 20:55:36,391 - INFO -   Best OOS Sharpe: M39 (2.080, p=0.090)
2025-09-08 20:55:36,391 - INFO -   Best Q-Sharpe:   M30 (0.853, OOS=-0.589)
2025-09-08 20:55:36,391 - INFO -   Mean OOS Sharpe: 0.072
2025-09-08 20:55:36,391 - INFO - 
2025-09-08 20:55:36,395 - INFO - Starting full timeline backtesting...
2025-09-08 20:55:36,395 - INFO - Running full timeline backtest with 13 folds (starting from fold 2)
2025-09-08 20:55:36,395 - INFO - Fold 1 skipped (no Q-score history for meaningful selection)
2025-09-08 20:55:36,395 - INFO - Effective backtest period: Folds 2-13 (12 folds)
2025-09-08 20:55:36,395 - INFO - Training period: Folds 2-9
2025-09-08 20:55:36,395 - INFO - Production period: Folds 10-13
2025-09-08 20:55:36,395 - INFO - Using same OOS methodology for both periods
2025-09-08 20:55:36,395 - INFO - Fold 1: Skipped (no Q-score history for meaningful selection)
2025-09-08 20:55:36,395 - INFO - Processing fold 2/13
2025-09-08 20:55:36,395 - INFO - Fold 2: First meaningful selection from fold 0, models [0, 1, 2, 3, 4], avg Q-score: 0.000
2025-09-08 20:55:38,970 - INFO - Fold 2 (Training): Sharpe=0.041, Hit=49.5%
2025-09-08 20:55:38,970 - INFO - Processing fold 3/13
2025-09-08 20:55:38,996 - INFO - Fold 3: Selected from fold 1, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:55:41,699 - INFO - Fold 3 (Training): Sharpe=-0.388, Hit=56.0%
2025-09-08 20:55:41,699 - INFO - Processing fold 4/13
2025-09-08 20:55:41,738 - INFO - Fold 4: Selected from fold 2, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:55:44,695 - INFO - Fold 4 (Training): Sharpe=1.010, Hit=47.8%
2025-09-08 20:55:44,696 - INFO - Processing fold 5/13
2025-09-08 20:55:44,721 - INFO - Fold 5: Selected from fold 3, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:55:47,817 - INFO - Fold 5 (Training): Sharpe=0.146, Hit=50.5%
2025-09-08 20:55:47,817 - INFO - Processing fold 6/13
2025-09-08 20:55:47,844 - INFO - Fold 6: Selected from fold 4, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:55:50,144 - INFO - Fold 6 (Training): Sharpe=-0.461, Hit=45.6%
2025-09-08 20:55:50,145 - INFO - Processing fold 7/13
2025-09-08 20:55:50,170 - INFO - Fold 7: Selected from fold 5, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:55:52,550 - INFO - Fold 7 (Training): Sharpe=0.593, Hit=56.0%
2025-09-08 20:55:52,550 - INFO - Processing fold 8/13
2025-09-08 20:55:52,576 - INFO - Fold 8: Selected from fold 6, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:55:55,064 - INFO - Fold 8 (Training): Sharpe=1.339, Hit=57.1%
2025-09-08 20:55:55,065 - INFO - Processing fold 9/13
2025-09-08 20:55:55,090 - INFO - Fold 9: Selected from fold 7, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:55:58,066 - INFO - Fold 9 (Training): Sharpe=0.732, Hit=52.7%
2025-09-08 20:55:58,067 - INFO - Processing fold 10/13
2025-09-08 20:55:58,099 - INFO - Fold 10: Selected from fold 8, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:56:00,962 - INFO - Fold 10 (Production): Sharpe=1.003, Hit=52.7%
2025-09-08 20:56:00,962 - INFO - Processing fold 11/13
2025-09-08 20:56:00,988 - INFO - Fold 11: Selected from fold 9, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:56:04,230 - INFO - Fold 11 (Production): Sharpe=2.019, Hit=53.8%
2025-09-08 20:56:04,230 - INFO - Processing fold 12/13
2025-09-08 20:56:04,255 - INFO - Fold 12: Selected from fold 10, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:56:07,382 - INFO - Fold 12 (Production): Sharpe=1.715, Hit=54.4%
2025-09-08 20:56:07,382 - INFO - Processing fold 13/13
2025-09-08 20:56:07,407 - INFO - Fold 13: Selected from fold 11, models [30, 92, 68, 83, 19], avg Q-score: 0.624
2025-09-08 20:56:10,544 - INFO - Fold 13 (Production): Sharpe=-0.119, Hit=46.5%
2025-09-08 20:56:10,546 - INFO - Training Period Overall: Sharpe=0.249, Hit=56.0%
2025-09-08 20:56:10,547 - INFO - Production Period Overall: Sharpe=0.942, Hit=54.6%
2025-09-08 20:56:10,549 - INFO - Full Timeline Overall: Sharpe=0.443, Hit=55.5%
2025-09-08 20:56:10,549 - INFO - Training: Sharpe=0.249 | Hit=56.0% | Return=1.55%
2025-09-08 20:56:10,549 - INFO - Production: Sharpe=0.942 | Hit=54.6% | Return=4.60%
2025-09-08 20:56:10,549 - INFO - Full Timeline: Sharpe=0.443 | Hit=55.5% | Return=2.57%
2025-09-08 20:56:10,549 - INFO - Generating visualizations...
2025-09-08 20:56:10,549 - INFO - Creating clean visualizations for 100 models...
2025-09-08 20:56:32,295 - INFO - Clean fold-by-fold analysis saved to: fold_by_fold_clean_@ES#C_standard_100models_15folds_20250908_205610.png
2025-09-08 20:56:32,792 - INFO - Using actual training period PnL (1456 days)
2025-09-08 20:56:34,141 - INFO - Detailed production analysis saved to: detailed_production_@ES#C_standard_100models_15folds_20250908_205610.png
2025-09-08 20:56:34,141 - INFO - ====================================================================================================
2025-09-08 20:56:34,141 - INFO - DETAILED PRODUCTION BACKTEST SUMMARY
2025-09-08 20:56:34,141 - INFO - ====================================================================================================
2025-09-08 20:56:34,141 - INFO - Configuration:
2025-09-08 20:56:34,141 - INFO -   - Cutoff Fraction: 70%
2025-09-08 20:56:34,141 - INFO -   - Top N Models: 5
2025-09-08 20:56:34,141 - INFO -   - Q-Metric: sharpe
2025-09-08 20:56:34,141 - INFO -   - Reselection Frequency: 1 folds
2025-09-08 20:56:34,141 - INFO - 
2025-09-08 20:56:34,141 - INFO - Model Selection History:
2025-09-08 20:56:34,141 - INFO -   Fold 2: M00, M01, M02, M03, M04 (Avg Q-sharpe: 0.000)
2025-09-08 20:56:34,141 - INFO -   Fold 3: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,141 - INFO -   Fold 4: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,141 - INFO -   Fold 5: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,141 - INFO -   Fold 6: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,141 - INFO -   Fold 7: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,141 - INFO -   Fold 8: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,142 - INFO -   Fold 9: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,142 - INFO -   Fold 10: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,142 - INFO -   Fold 11: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,142 - INFO -   Fold 12: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,142 - INFO -   Fold 13: M30, M92, M68, M83, M19 (Avg Q-sharpe: 0.624)
2025-09-08 20:56:34,142 - INFO - 
2025-09-08 20:56:34,142 - INFO - Fold-by-Fold Performance:
2025-09-08 20:56:34,142 - INFO -   Fold 2: M00, M01, M02, M03, M04 | Sharpe=0.041 | Hit=49.5% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 3: M30, M92, M68, M83, M19 | Sharpe=-0.388 | Hit=56.0% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 4: M30, M92, M68, M83, M19 | Sharpe=1.010 | Hit=47.8% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 5: M30, M92, M68, M83, M19 | Sharpe=0.146 | Hit=50.5% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 6: M30, M92, M68, M83, M19 | Sharpe=-0.461 | Hit=45.6% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 7: M30, M92, M68, M83, M19 | Sharpe=0.593 | Hit=56.0% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 8: M30, M92, M68, M83, M19 | Sharpe=1.339 | Hit=57.1% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 9: M30, M92, M68, M83, M19 | Sharpe=0.732 | Hit=52.7% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 10: M30, M92, M68, M83, M19 | Sharpe=1.003 | Hit=52.7% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 11: M30, M92, M68, M83, M19 | Sharpe=2.019 | Hit=53.8% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 12: M30, M92, M68, M83, M19 | Sharpe=1.715 | Hit=54.4% | Samples=182
2025-09-08 20:56:34,142 - INFO -   Fold 13: M30, M92, M68, M83, M19 | Sharpe=-0.119 | Hit=46.5% | Samples=185
2025-09-08 20:56:34,142 - INFO - ====================================================================================================
2025-09-08 20:56:34,142 - INFO - ================================================================================
2025-09-08 20:56:34,142 - INFO - ANALYSIS COMPLETED SUCCESSFULLY!
2025-09-08 20:56:34,142 - INFO - ================================================================================
2025-09-08 20:56:34,142 - INFO - Generated 2 visualization files
2025-09-08 20:56:34,142 - INFO -   - fold_by_fold_clean_@ES#C_standard_100models_15folds_20250908_205610.png
2025-09-08 20:56:34,142 - INFO -   - detailed_production_@ES#C_standard_100models_15folds_20250908_205610.png
2025-09-08 20:56:34,142 - INFO - 
Final Results: Sharpe=0.443 | Hit=55.5% | Return=2.57%
