2025-09-11 00:58:10,753 - INFO - ================================================================================
2025-09-11 00:58:10,754 - INFO - XGBoost Comparison Framework
2025-09-11 00:58:10,754 - INFO - ================================================================================
2025-09-11 00:58:10,754 - INFO - Configuration:
2025-09-11 00:58:10,754 - INFO -   Target Symbol: @EU#C
2025-09-11 00:58:10,754 - INFO -   Date Range: 2015-01-01 to 2025-08-01
2025-09-11 00:58:10,754 - INFO -   Models: 50, Type: standard
2025-09-11 00:58:10,755 - INFO -   Folds: 10
2025-09-11 00:58:10,755 - INFO -   Max Features: 100 (Limited)
2025-09-11 00:58:10,755 - INFO -   Feature Selection: Enabled
2025-09-11 00:58:10,755 - INFO -   Inner Val Fraction: 0.2
2025-09-11 00:58:10,755 - INFO -   EWMA Alpha: 0.1, Quality Halflife: 63 days
2025-09-11 00:58:10,755 - INFO -   Signal Type: Binary (+1/-1)
2025-09-11 00:58:10,755 - INFO -   Cross-validation: Expanding window
2025-09-11 00:58:10,755 - INFO -   Production: Cutoff=0.8, Top N=5, Q-Metric=hit_rate
2025-09-11 00:58:10,755 - INFO -   Reselection: Every 1 fold(s)
2025-09-11 00:58:10,755 - INFO - 
2025-09-11 00:58:16,801 - INFO - Loaded: X=(2733, 1054), y=(2733,)
2025-09-11 00:58:25,400 - INFO - Selected 100 features (threshold: 0.7)
2025-09-11 00:58:25,407 - INFO - Selected: 100 features
2025-09-11 00:58:26,053 - INFO - GPU detection: CUDA GPU available
2025-09-11 00:58:26,063 - INFO - Processing mode: GPU sequential (optimal for large model counts)
2025-09-11 00:58:26,063 - INFO -   Total models to train: 500
2025-09-11 00:58:26,063 - INFO -   GPU available: True
2025-09-11 00:58:26,149 - INFO - GPU detection: CUDA GPU available
2025-09-11 00:58:26,157 - INFO - Using expanding window
2025-09-11 00:58:26,157 - INFO - Starting analysis: 50 standard models x 9 folds
2025-09-11 00:58:26,157 - INFO - Processing Fold 1/9
2025-09-11 00:58:26,161 - INFO -   Using GPU sequential processing
2025-09-11 01:00:01,085 - INFO - Fold 1 Summary:
2025-09-11 01:00:01,085 - INFO -   Best OOS Sharpe: M29 (1.529, p=0.110)
2025-09-11 01:00:01,086 - INFO -   Best Q-Hit_Rate:  M14 (0.557, OOS_Sharpe=0.950, OOS_Hit=0.557)
2025-09-11 01:00:01,086 - INFO -   Mean OOS Sharpe: 0.049, Mean Hit: 0.499
2025-09-11 01:00:01,086 - INFO - 
2025-09-11 01:00:01,087 - INFO - Processing Fold 2/9
2025-09-11 01:00:01,091 - INFO -   Using GPU sequential processing
2025-09-11 01:02:10,457 - INFO - Fold 2 Summary:
2025-09-11 01:02:10,459 - INFO -   Best OOS Sharpe: M35 (1.066, p=0.250)
2025-09-11 01:02:10,459 - INFO -   Best Q-Hit_Rate:  M14 (0.557, OOS_Sharpe=1.031, OOS_Hit=0.557)
2025-09-11 01:02:10,459 - INFO -   Mean OOS Sharpe: -0.235, Mean Hit: 0.522
2025-09-11 01:02:10,459 - INFO - 
2025-09-11 01:02:10,460 - INFO - Processing Fold 3/9
2025-09-11 01:02:10,464 - INFO -   Using GPU sequential processing
2025-09-11 01:04:30,684 - INFO - Fold 3 Summary:
2025-09-11 01:04:30,685 - INFO -   Best OOS Sharpe: M13 (2.043, p=0.030)
2025-09-11 01:04:30,685 - INFO -   Best Q-Hit_Rate:  M35 (0.555, OOS_Sharpe=1.734, OOS_Hit=0.542)
2025-09-11 01:04:30,685 - INFO -   Mean OOS Sharpe: 0.522, Mean Hit: 0.508
2025-09-11 01:04:30,685 - INFO - 
2025-09-11 01:04:30,687 - INFO - Processing Fold 4/9
2025-09-11 01:04:30,690 - INFO -   Using GPU sequential processing
2025-09-11 01:06:41,366 - INFO - Fold 4 Summary:
2025-09-11 01:06:41,366 - INFO -   Best OOS Sharpe: M02 (1.828, p=0.080)
2025-09-11 01:06:41,366 - INFO -   Best Q-Hit_Rate:  M35 (0.550, OOS_Sharpe=0.585, OOS_Hit=0.513)
2025-09-11 01:06:41,366 - INFO -   Mean OOS Sharpe: -0.154, Mean Hit: 0.491
2025-09-11 01:06:41,366 - INFO - 
2025-09-11 01:06:41,368 - INFO - Processing Fold 5/9
2025-09-11 01:06:41,376 - INFO -   Using GPU sequential processing
2025-09-11 01:08:30,171 - INFO - Fold 5 Summary:
2025-09-11 01:08:30,171 - INFO -   Best OOS Sharpe: M23 (2.222, p=0.040)
2025-09-11 01:08:30,172 - INFO -   Best Q-Hit_Rate:  M35 (0.544, OOS_Sharpe=1.487, OOS_Hit=0.484)
2025-09-11 01:08:30,172 - INFO -   Mean OOS Sharpe: 0.912, Mean Hit: 0.502
2025-09-11 01:08:30,172 - INFO - 
2025-09-11 01:08:30,173 - INFO - Processing Fold 6/9
2025-09-11 01:08:30,177 - INFO -   Using GPU sequential processing
2025-09-11 01:10:00,513 - INFO - Fold 6 Summary:
2025-09-11 01:10:00,513 - INFO -   Best OOS Sharpe: M12 (1.416, p=0.140)
2025-09-11 01:10:00,513 - INFO -   Best Q-Hit_Rate:  M35 (0.537, OOS_Sharpe=-1.087, OOS_Hit=0.473)
2025-09-11 01:10:00,513 - INFO -   Mean OOS Sharpe: -0.281, Mean Hit: 0.485
2025-09-11 01:10:00,513 - INFO - 
2025-09-11 01:10:00,515 - INFO - Processing Fold 7/9
2025-09-11 01:10:00,519 - INFO -   Using GPU sequential processing
2025-09-11 01:11:17,300 - INFO - Fold 7 Summary:
2025-09-11 01:11:17,300 - INFO -   Best OOS Sharpe: M10 (1.348, p=0.100)
2025-09-11 01:11:17,300 - INFO -   Best Q-Hit_Rate:  M44 (0.528, OOS_Sharpe=0.424, OOS_Hit=0.469)
2025-09-11 01:11:17,300 - INFO -   Mean OOS Sharpe: -0.465, Mean Hit: 0.459
2025-09-11 01:11:17,300 - INFO - 
2025-09-11 01:11:17,301 - INFO - Processing Fold 8/9
2025-09-11 01:11:17,306 - INFO -   Using GPU sequential processing
2025-09-11 01:12:13,702 - INFO - Fold 8 Summary:
2025-09-11 01:12:13,702 - INFO -   Best OOS Sharpe: M03 (2.823, p=0.020)
2025-09-11 01:12:13,702 - INFO -   Best Q-Hit_Rate:  M14 (0.527, OOS_Sharpe=1.912, OOS_Hit=0.542)
2025-09-11 01:12:13,702 - INFO -   Mean OOS Sharpe: 0.856, Mean Hit: 0.525
2025-09-11 01:12:13,702 - INFO - 
2025-09-11 01:12:13,704 - INFO - Processing Fold 9/9
2025-09-11 01:12:13,708 - INFO -   Using GPU sequential processing
2025-09-11 01:13:02,603 - INFO - Fold 9 Summary:
2025-09-11 01:13:02,603 - INFO -   Best OOS Sharpe: M12 (1.433, p=0.140)
2025-09-11 01:13:02,603 - INFO -   Best Q-Hit_Rate:  M44 (0.524, OOS_Sharpe=0.008, OOS_Hit=0.500)
2025-09-11 01:13:02,603 - INFO -   Mean OOS Sharpe: 0.107, Mean Hit: 0.489
2025-09-11 01:13:02,603 - INFO - 
2025-09-11 01:13:02,606 - INFO - Starting full timeline backtesting...
2025-09-11 01:13:02,606 - INFO - Running full timeline backtest with 9 folds (starting from fold 2)
2025-09-11 01:13:02,606 - INFO - Fold 1 skipped (no Q-score history for meaningful selection)
2025-09-11 01:13:02,606 - INFO - Effective backtest period: Folds 2-9 (8 folds)
2025-09-11 01:13:02,606 - INFO - Training period: Folds 2-7
2025-09-11 01:13:02,606 - INFO - Production period: Folds 8-9
2025-09-11 01:13:02,606 - INFO - Using same OOS methodology for both periods
2025-09-11 01:13:02,606 - INFO - Fold 1: Skipped (no prior Q-score history for meaningful selection)
2025-09-11 01:13:02,606 - INFO - Processing fold 2/9
2025-09-11 01:13:02,619 - INFO - Fold 2: Q-scores from fold 0: ['M00:0.480', 'M01:0.513', 'M02:0.524', 'M03:0.495', 'M04:0.484']...
2025-09-11 01:13:02,619 - INFO - Fold 2: First meaningful selection based on fold 1 Q-scores, models [14, 44, 35, 41, 29], avg Q-score: 0.546
2025-09-11 01:13:02,621 - INFO - Fold 2 (Training): Sharpe=0.421, Hit=54.9%
2025-09-11 01:13:02,621 - INFO - Processing fold 3/9
2025-09-11 01:13:02,638 - INFO - Fold 3: Q-scores from fold 1: ['M00:0.483', 'M01:0.507', 'M02:0.525', 'M03:0.499', 'M04:0.487']...
2025-09-11 01:13:02,638 - INFO - Fold 3: Selected based on fold 2 Q-scores, models [14, 44, 35, 41, 29], avg Q-score: 0.545
2025-09-11 01:13:02,640 - INFO - Fold 3 (Training): Sharpe=1.238, Hit=52.4%
2025-09-11 01:13:02,640 - INFO - Processing fold 4/9
2025-09-11 01:13:02,653 - INFO - Fold 4: Q-scores from fold 2: ['M00:0.488', 'M01:0.509', 'M02:0.523', 'M03:0.500', 'M04:0.489']...
2025-09-11 01:13:02,653 - INFO - Fold 4: Selected based on fold 3 Q-scores, models [35, 14, 44, 29, 36], avg Q-score: 0.542
2025-09-11 01:13:02,655 - INFO - Fold 4 (Training): Sharpe=0.490, Hit=46.5%
2025-09-11 01:13:02,655 - INFO - Processing fold 5/9
2025-09-11 01:13:02,669 - INFO - Fold 5: Q-scores from fold 3: ['M00:0.486', 'M01:0.506', 'M02:0.523', 'M03:0.499', 'M04:0.491']...
2025-09-11 01:13:02,669 - INFO - Fold 5: Selected based on fold 4 Q-scores, models [35, 14, 44, 2, 36], avg Q-score: 0.538
2025-09-11 01:13:02,671 - INFO - Fold 5 (Training): Sharpe=0.943, Hit=46.9%
2025-09-11 01:13:02,671 - INFO - Processing fold 6/9
2025-09-11 01:13:02,684 - INFO - Fold 6: Q-scores from fold 4: ['M00:0.491', 'M01:0.504', 'M02:0.520', 'M03:0.498', 'M04:0.490']...
2025-09-11 01:13:02,684 - INFO - Fold 6: Selected based on fold 5 Q-scores, models [35, 44, 14, 21, 39], avg Q-score: 0.534
2025-09-11 01:13:02,686 - INFO - Fold 6 (Training): Sharpe=-1.141, Hit=45.8%
2025-09-11 01:13:02,686 - INFO - Processing fold 7/9
2025-09-11 01:13:02,698 - INFO - Fold 7: Q-scores from fold 5: ['M00:0.493', 'M01:0.505', 'M02:0.519', 'M03:0.497', 'M04:0.490']...
2025-09-11 01:13:02,699 - INFO - Fold 7: Selected based on fold 6 Q-scores, models [35, 44, 14, 2, 21], avg Q-score: 0.529
2025-09-11 01:13:02,701 - INFO - Fold 7 (Training): Sharpe=-0.711, Hit=45.1%
2025-09-11 01:13:02,701 - INFO - Processing fold 8/9
2025-09-11 01:13:02,713 - INFO - Fold 8: Q-scores from fold 6: ['M00:0.489', 'M01:0.503', 'M02:0.514', 'M03:0.490', 'M04:0.491']...
2025-09-11 01:13:02,713 - INFO - Fold 8: Selected based on fold 7 Q-scores, models [44, 35, 14, 21, 2], avg Q-score: 0.521
2025-09-11 01:13:02,715 - INFO - Fold 8 (Production): Sharpe=1.787, Hit=51.6%
2025-09-11 01:13:02,715 - INFO - Processing fold 9/9
2025-09-11 01:13:02,728 - INFO - Fold 9: Q-scores from fold 7: ['M00:0.491', 'M01:0.505', 'M02:0.516', 'M03:0.498', 'M04:0.492']...
2025-09-11 01:13:02,728 - INFO - Fold 9: Selected based on fold 8 Q-scores, models [14, 44, 35, 21, 2], avg Q-score: 0.523
2025-09-11 01:13:02,730 - INFO - Fold 9 (Production): Sharpe=-0.126, Hit=47.5%
2025-09-11 01:13:02,731 - INFO - Training Period Overall: Sharpe=-0.243, Hit=48.8%
2025-09-11 01:13:02,733 - INFO - Production Period Overall: Sharpe=-0.429, Hit=48.3%
2025-09-11 01:13:02,734 - INFO - Full Timeline Overall: Sharpe=-0.291, Hit=48.7%
2025-09-11 01:13:02,734 - INFO - Training: Sharpe=-0.243 | Hit=48.8% | Return=-1.07%
2025-09-11 01:13:02,734 - INFO - Production: Sharpe=-0.429 | Hit=48.3% | Return=-2.01%
2025-09-11 01:13:02,735 - INFO - Full Timeline: Sharpe=-0.291 | Hit=48.7% | Return=-1.30%
2025-09-11 01:13:02,735 - INFO - Generating visualizations...
2025-09-11 01:13:02,735 - INFO - Creating clean visualizations for 50 models...
2025-09-11 01:13:06,682 - INFO - Saved with DPI=300, estimated height=25650px, showing 20/50 models
2025-09-11 01:13:06,682 - INFO - Clean fold-by-fold analysis saved to: 20250911_011302_fold_@EU#C_50models_10folds_EU_expanding_conservative_binary.png
2025-09-11 01:13:06,682 - INFO - Image optimized for 50 models x 9 folds: DPI=300, Height=85.5in
2025-09-11 01:13:06,829 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-09-11 01:13:06,830 - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-09-11 01:13:07,001 - INFO - Using actual training period PnL (1638 days)
2025-09-11 01:13:08,372 - INFO - Detailed production analysis saved to: 20250911_011302_backtest_@EU#C_50models_10folds_EU_expanding_conservative_binary.png
2025-09-11 01:13:08,372 - INFO - ================================================================================
2025-09-11 01:13:08,372 - INFO - BACKTEST SUMMARY
2025-09-11 01:13:08,372 - INFO - ================================================================================
2025-09-11 01:13:08,372 - INFO - Config: Cutoff=70%, Top N=5, Q-Metric=sharpe, Reselection=1 fold(s)
2025-09-11 01:13:08,372 - INFO - Model Selection History:
2025-09-11 01:13:08,372 - INFO -   Fold 2: M14, M44, M35, M41, M29 (Avg Q-sharpe: 0.546)
2025-09-11 01:13:08,372 - INFO -   Fold 3: M14, M44, M35, M41, M29 (Avg Q-sharpe: 0.545)
2025-09-11 01:13:08,372 - INFO -   Fold 4: M35, M14, M44, M29, M36 (Avg Q-sharpe: 0.542)
2025-09-11 01:13:08,372 - INFO -   Fold 5: M35, M14, M44, M02, M36 (Avg Q-sharpe: 0.538)
2025-09-11 01:13:08,372 - INFO -   Fold 6: M35, M44, M14, M21, M39 (Avg Q-sharpe: 0.534)
2025-09-11 01:13:08,372 - INFO -   Fold 7: M35, M44, M14, M02, M21 (Avg Q-sharpe: 0.529)
2025-09-11 01:13:08,372 - INFO -   Fold 8: M44, M35, M14, M21, M02 (Avg Q-sharpe: 0.521)
2025-09-11 01:13:08,372 - INFO -   Fold 9: M14, M44, M35, M21, M02 (Avg Q-sharpe: 0.523)
2025-09-11 01:13:08,372 - INFO - 
2025-09-11 01:13:08,372 - INFO - Fold-by-Fold Performance:
2025-09-11 01:13:08,373 - INFO -   Fold 2: M14, M44, M35, M41, M29 | Sharpe=0.421 | Hit=54.9% | Samples=273
2025-09-11 01:13:08,373 - INFO -   Fold 3: M14, M44, M35, M41, M29 | Sharpe=1.238 | Hit=52.4% | Samples=273
2025-09-11 01:13:08,373 - INFO -   Fold 4: M35, M14, M44, M29, M36 | Sharpe=0.490 | Hit=46.5% | Samples=273
2025-09-11 01:13:08,373 - INFO -   Fold 5: M35, M14, M44, M02, M36 | Sharpe=0.943 | Hit=46.9% | Samples=273
2025-09-11 01:13:08,373 - INFO -   Fold 6: M35, M44, M14, M21, M39 | Sharpe=-1.141 | Hit=45.8% | Samples=273
2025-09-11 01:13:08,373 - INFO -   Fold 7: M35, M44, M14, M02, M21 | Sharpe=-0.711 | Hit=45.1% | Samples=273
2025-09-11 01:13:08,373 - INFO -   Fold 8: M44, M35, M14, M21, M02 | Sharpe=1.787 | Hit=51.6% | Samples=273
2025-09-11 01:13:08,373 - INFO -   Fold 9: M14, M44, M35, M21, M02 | Sharpe=-0.126 | Hit=47.5% | Samples=276
2025-09-11 01:13:08,373 - INFO - ================================================================================
2025-09-11 01:13:08,373 - INFO - ================================================================================
2025-09-11 01:13:08,373 - INFO - ANALYSIS COMPLETED SUCCESSFULLY!
2025-09-11 01:13:08,373 - INFO - ================================================================================
2025-09-11 01:13:08,373 - INFO - Generated 2 visualization files
2025-09-11 01:13:08,373 - INFO -   - 20250911_011302_fold_@EU#C_50models_10folds_EU_expanding_conservative_binary.png
2025-09-11 01:13:08,373 - INFO -   - 20250911_011302_backtest_@EU#C_50models_10folds_EU_expanding_conservative_binary.png
2025-09-11 01:13:08,373 - INFO - 
Final Results: Sharpe=-0.291 | Hit=48.7% | Return=-1.30%
